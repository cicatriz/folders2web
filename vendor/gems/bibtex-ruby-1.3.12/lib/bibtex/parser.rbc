!RBIX
9595534255132031488
x
M
1
n
n
x
10
__script__
i
46
5
7
0
64
47
49
1
1
15
5
7
2
64
47
49
1
1
15
99
7
3
65
49
4
2
13
99
12
7
5
12
7
6
12
65
12
49
7
4
15
49
5
0
15
2
11
I
6
I
0
I
0
I
0
n
p
8
s
14
racc/parser.rb
x
7
require
s
12
bibtex/lexer
x
6
BibTeX
x
11
open_module
x
15
__module_init__
M
1
n
n
x
6
BibTeX
i
33
5
66
99
7
0
45
1
2
43
0
65
49
3
3
13
99
12
7
4
12
7
5
12
65
12
49
6
4
15
49
4
0
11
I
6
I
0
I
0
I
0
n
p
7
x
6
Parser
x
4
Racc
n
x
10
open_class
x
14
__class_init__
M
1
n
n
x
6
Parser
i
1625
5
66
5
7
0
64
7
1
64
4
90
47
49
2
3
15
4
14
4
33
4
38
4
32
4
36
4
33
4
18
4
32
4
15
4
34
4
29
4
16
4
37
4
34
4
33
4
33
4
32
4
32
4
53
4
39
4
4
4
4
4
34
4
34
4
6
4
6
4
26
4
5
4
5
4
24
4
26
4
44
4
45
4
49
4
41
4
42
4
27
4
43
4
22
4
29
4
47
4
48
4
21
4
20
4
54
4
55
4
19
4
57
4
7
4
45
4
45
35
51
19
0
15
4
4
4
21
4
23
4
21
4
22
4
48
4
4
4
48
4
4
4
21
4
20
4
4
4
23
4
48
4
45
4
39
4
45
4
39
4
39
4
26
78
80
4
45
4
39
78
80
4
17
78
80
4
17
4
38
4
30
4
30
4
38
4
27
4
27
4
18
4
28
4
16
4
33
4
35
4
36
4
15
4
14
4
40
4
42
4
7
4
46
79
4
51
4
58
35
51
19
1
15
4
18
4
48
4
19
1
7
3
1
1
4
46
1
1
1
1
1
1
4
35
4
34
4
30
4
16
4
28
1
4
5
7
4
7
5
77
1
1
4
12
4
24
4
24
1
4
18
1
1
4
34
1
4
27
4
34
1
4
20
4
7
4
41
1
4
35
1
1
4
6
4
34
1
7
6
1
1
4
35
1
1
1
1
1
1
4
36
35
59
19
2
15
77
7
7
7
8
7
6
7
7
7
5
7
4
7
7
7
3
7
9
7
10
7
11
7
12
7
13
7
7
7
7
7
7
7
7
7
7
4
59
7
14
7
7
7
7
7
7
7
15
7
16
7
7
7
7
7
7
7
17
7
7
7
18
7
19
7
14
7
20
7
7
7
7
7
21
7
7
7
7
7
7
7
22
7
23
7
24
7
25
7
7
7
7
7
26
7
7
7
27
7
28
7
29
7
30
7
31
7
32
7
33
7
34
7
35
7
36
35
59
19
3
15
4
30
4
25
4
28
4
3
79
4
8
4
11
4
12
4
13
4
10
4
9
4
35
4
56
4
17
4
23
4
46
4
40
80
4
51
4
52
1
1
4
50
1
1
1
1
4
58
35
28
19
4
15
4
10
4
16
4
9
4
3
79
4
3
4
6
4
7
4
8
4
5
4
4
4
11
4
12
4
13
4
14
4
9
4
15
80
4
10
4
17
1
1
4
16
1
1
1
1
4
10
35
28
19
5
15
1
4
4
4
17
4
3
4
6
4
5
80
4
3
4
4
7
18
7
35
7
13
7
29
4
9
7
6
7
13
7
26
7
19
35
18
19
6
15
1
1
1
1
1
1
1
1
1
1
1
1
4
31
1
1
1
1
1
35
18
19
7
15
78
78
7
37
78
4
18
7
38
79
4
18
7
39
79
4
19
7
40
80
4
19
7
41
80
4
20
7
42
79
4
20
7
43
79
4
20
7
44
79
4
21
7
45
79
4
21
7
46
79
4
21
7
47
79
4
21
7
48
4
4
4
22
7
49
78
4
26
7
50
79
4
26
7
51
4
4
4
24
7
52
4
4
4
23
7
53
4
3
4
28
7
54
79
4
27
7
55
4
3
4
27
7
56
79
4
29
7
57
4
3
4
29
7
58
79
4
29
7
59
4
3
4
25
7
60
4
4
4
25
7
61
80
4
25
7
62
4
4
4
30
7
63
79
4
32
7
64
79
4
32
7
65
80
4
32
7
66
79
4
31
7
67
4
3
4
31
7
68
4
3
4
33
7
69
79
4
34
7
70
79
4
34
7
71
35
105
19
8
15
4
35
19
9
15
4
59
19
10
15
44
43
72
4
17
49
73
1
13
3
78
49
74
2
15
13
7
75
79
49
74
2
15
13
7
76
80
49
74
2
15
13
7
77
4
3
49
74
2
15
13
7
78
4
4
49
74
2
15
13
7
79
4
5
49
74
2
15
13
7
80
4
6
49
74
2
15
13
7
81
4
7
49
74
2
15
13
7
82
4
8
49
74
2
15
13
7
83
4
9
49
74
2
15
13
7
84
4
10
49
74
2
15
13
7
85
4
11
49
74
2
15
13
7
86
4
12
49
74
2
15
13
7
87
4
13
49
74
2
15
13
7
88
4
14
49
74
2
15
13
7
89
4
15
49
74
2
15
13
7
90
4
16
49
74
2
15
19
11
15
4
17
19
12
15
2
19
13
15
65
7
91
20
0
20
1
20
3
20
2
20
4
20
5
20
7
20
6
20
12
20
8
20
11
20
10
20
9
20
13
35
14
49
92
2
15
65
7
93
7
94
64
7
95
64
7
96
64
7
97
64
7
98
64
7
99
64
7
100
64
7
101
64
7
102
64
7
103
64
7
104
64
7
105
64
7
106
64
7
107
64
7
108
64
7
109
64
7
110
64
7
111
64
7
112
64
7
113
64
7
114
64
7
115
64
7
116
64
7
117
64
7
118
64
7
119
64
7
120
64
7
121
64
7
122
64
7
123
64
7
124
64
7
125
64
7
126
64
7
127
64
7
128
64
35
35
49
92
2
15
65
7
129
3
49
92
2
15
5
7
130
64
7
1
64
4
32
47
49
2
3
15
5
7
131
64
7
1
64
4
33
47
49
2
3
15
5
7
132
64
7
1
64
4
35
47
49
2
3
15
5
7
133
64
7
1
64
4
36
47
49
2
3
15
5
7
134
64
7
1
64
4
38
47
49
2
3
15
5
7
135
64
7
1
64
4
39
47
49
2
3
15
5
7
136
64
7
1
64
4
40
47
49
2
3
15
5
7
137
64
7
1
64
4
42
47
49
2
3
15
5
7
138
64
7
1
64
4
43
47
49
2
3
15
5
7
139
64
7
1
64
4
44
47
49
2
3
15
5
7
140
64
7
1
64
4
45
47
49
2
3
15
5
7
141
64
7
1
64
4
47
47
49
2
3
15
5
7
142
64
7
1
64
4
49
47
49
2
3
15
5
7
143
64
7
1
64
4
50
47
49
2
3
15
5
7
144
64
7
1
64
4
52
47
49
2
3
15
5
7
145
64
7
1
64
4
54
47
49
2
3
15
5
7
146
64
7
1
64
4
56
47
49
2
3
15
5
7
147
64
7
1
64
4
58
47
49
2
3
15
5
7
148
64
7
1
64
4
59
47
49
2
3
15
5
7
149
64
7
1
64
4
61
47
49
2
3
15
5
7
150
64
7
1
64
4
62
47
49
2
3
15
5
7
151
64
7
1
64
4
63
47
49
2
3
15
5
7
152
64
7
1
64
4
65
47
49
2
3
15
5
7
153
64
7
1
64
4
66
47
49
2
3
15
5
7
154
64
7
1
64
4
67
47
49
2
3
15
5
7
155
64
7
1
64
4
69
47
49
2
3
15
5
7
156
64
7
1
64
4
71
47
49
2
3
15
5
7
157
64
7
1
64
4
72
47
49
2
3
15
5
7
158
64
7
1
64
4
73
47
49
2
3
15
5
7
159
64
7
1
64
4
75
47
49
2
3
15
5
7
160
64
7
1
64
4
76
47
49
2
3
15
5
7
161
64
7
1
64
4
78
47
49
2
3
15
5
7
162
64
7
1
64
4
80
47
49
2
3
15
5
7
163
64
7
1
64
4
81
47
49
2
3
15
99
7
164
7
165
65
67
49
166
0
49
167
4
11
I
77
I
e
I
0
I
0
n
p
168
s
745

  attr_reader :lexer, :options
  
	DEFAULTS = { :include => [:errors], :debug => ENV['DEBUG'] == true }.freeze
	
  def initialize(options = {})
		@options = DEFAULTS.merge(options)
    @lexer = Lexer.new(@options)
  end

  def parse(input)
    @yydebug = debug?   
    @lexer.analyse(input)
    
    do_parse
		#yyparse(@lexer,:each)
  end
  
  def next_token
    @lexer.next_token
  end
  
  def debug?
    @options[:debug] == true
  end
    
  def on_error(tid, val, vstack)
    Log.error("Failed to parse BibTeX on value %s (%s) %s" % [val.inspect, token_to_str(tid) || '?', vstack.inspect])
    #raise(ParseError, "Failed to parse BibTeX on value %s (%s) %s" % [val.inspect, token_to_str(tid) || '?', vstack.inspect])
  end

# -*- racc -*-

s
8
bibtex.y
x
11
module_eval
I
-4
I
-7
I
-6
I
-3
I
-23
I
-2
I
-5
I
-8
I
-9
I
-a
I
-b
I
-d
I
-19
I
-1e
I
-e
I
-12
I
-14
I
-16
I
-17
I
-1b
I
-1c
I
-c
I
-f
I
-10
I
-18
I
-1f
I
-21
I
-20
I
-22
I
-1a
I
-1d
I
-13
I
-15
I
-11
x
10
racc_error
x
9
_reduce_1
x
9
_reduce_2
x
9
_reduce_3
x
9
_reduce_4
x
9
_reduce_5
x
9
_reduce_6
x
9
_reduce_7
x
9
_reduce_8
x
9
_reduce_9
x
10
_reduce_10
x
10
_reduce_11
x
10
_reduce_12
x
10
_reduce_13
x
10
_reduce_14
x
10
_reduce_15
x
10
_reduce_16
x
10
_reduce_17
x
10
_reduce_18
x
10
_reduce_19
x
10
_reduce_20
x
10
_reduce_21
x
10
_reduce_22
x
10
_reduce_23
x
10
_reduce_24
x
10
_reduce_25
x
10
_reduce_26
x
10
_reduce_27
x
10
_reduce_28
x
10
_reduce_29
x
10
_reduce_30
x
10
_reduce_31
x
10
_reduce_32
x
10
_reduce_33
x
10
_reduce_34
x
4
Hash
x
16
new_from_literal
x
3
[]=
x
5
error
x
2
AT
x
5
COMMA
x
7
COMMENT
x
7
CONTENT
x
5
ERROR
x
2
EQ
x
6
LBRACE
x
12
META_CONTENT
x
4
NAME
x
6
NUMBER
x
8
PREAMBLE
x
6
RBRACE
x
5
SHARP
x
6
STRING
x
14
STRING_LITERAL
x
8
Racc_arg
x
9
const_set
x
21
Racc_token_to_s_table
s
4
$end
s
5
error
s
2
AT
s
5
COMMA
s
7
COMMENT
s
7
CONTENT
s
5
ERROR
s
2
EQ
s
6
LBRACE
s
12
META_CONTENT
s
4
NAME
s
6
NUMBER
s
8
PREAMBLE
s
6
RBRACE
s
5
SHARP
s
6
STRING
s
14
STRING_LITERAL
s
6
$start
s
12
bibliography
s
7
objects
s
6
object
s
9
at_object
s
7
comment
s
6
string
s
8
preamble
s
5
entry
s
7
content
s
12
string_value
s
17
string_assignment
s
14
string_literal
s
10
entry_head
s
11
assignments
s
3
key
s
10
assignment
s
5
value
x
17
Racc_debug_parser
s
105
  def _reduce_1(val, _values, result)
     result = BibTeX::Bibliography.new(@options) 
    result
  end

s
77
  def _reduce_2(val, _values, result)
     result = val[0] 
    result
  end

s
105
  def _reduce_3(val, _values, result)
     result = BibTeX::Bibliography.new << val[0] 
    result
  end

s
78
  def _reduce_4(val, _values, result)
     result << val[1] 
    result
  end

s
77
  def _reduce_5(val, _values, result)
     result = val[1] 
    result
  end

s
102
  def _reduce_6(val, _values, result)
     result = BibTeX::MetaContent.new(val[0]) 
    result
  end

s
96
  def _reduce_7(val, _values, result)
     result = BibTeX::Error.new(val[0]) 
    result
  end

s
77
  def _reduce_8(val, _values, result)
     result = val[0] 
    result
  end

s
77
  def _reduce_9(val, _values, result)
     result = val[0] 
    result
  end

s
78
  def _reduce_10(val, _values, result)
     result = val[0] 
    result
  end

s
78
  def _reduce_11(val, _values, result)
     result = val[0] 
    result
  end

s
99
  def _reduce_12(val, _values, result)
     result = BibTeX::Comment.new(val[2]) 
    result
  end

s
74
  def _reduce_13(val, _values, result)
     result = '' 
    result
  end

s
78
  def _reduce_14(val, _values, result)
     result = val[0] 
    result
  end

s
100
  def _reduce_15(val, _values, result)
     result = BibTeX::Preamble.new(val[2]) 
    result
  end

s
112
  def _reduce_16(val, _values, result)
     result = BibTeX::String.new(val[2][0],val[2][1]); 
    result
  end

s
104
  def _reduce_17(val, _values, result)
     result = [val[0].downcase.to_sym, val[2]] 
    result
  end

s
80
  def _reduce_18(val, _values, result)
     result = [val[0]] 
    result
  end

s
79
  def _reduce_19(val, _values, result)
     result << val[2] 
    result
  end

s
94
  def _reduce_20(val, _values, result)
     result = val[0].downcase.to_sym 
    result
  end

s
78
  def _reduce_21(val, _values, result)
     result = val[1] 
    result
  end

s
78
  def _reduce_22(val, _values, result)
     result = val[0] 
    result
  end

s
88
  def _reduce_23(val, _values, result)
     result = val[0] << val[1] 
    result
  end

s
88
  def _reduce_24(val, _values, result)
     result = val[0] << val[1] 
    result
  end

s
78
  def _reduce_25(val, _values, result)
     result = val[0] 
    result
  end

s
138
  def _reduce_26(val, _values, result)
     result = BibTeX::Entry.new(:type => val[0].downcase.to_sym, :key => val[2]) 
    result
  end

s
78
  def _reduce_27(val, _values, result)
     result = val[0] 
    result
  end

s
78
  def _reduce_28(val, _values, result)
     result = val[0] 
    result
  end

s
85
  def _reduce_29(val, _values, result)
     result = val[0,2].join 
    result
  end

s
78
  def _reduce_30(val, _values, result)
     result = val[0] 
    result
  end

s
84
  def _reduce_31(val, _values, result)
     result.merge!(val[2]) 
    result
  end

s
108
  def _reduce_32(val, _values, result)
     result = { val[0].downcase.to_sym => val[2] } 
    result
  end

s
78
  def _reduce_33(val, _values, result)
     result = val[0] 
    result
  end

s
78
  def _reduce_34(val, _values, result)
     result = val[0] 
    result
  end

x
12
_reduce_none
M
1
n
n
x
12
_reduce_none
i
7
20
0
78
49
0
1
11
I
5
I
3
I
3
I
3
n
p
1
x
2
[]
p
5
I
-1
I
1cd
I
0
I
1ce
I
7
x
54
/Users/sylvester/Work/bibtex-ruby/lib/bibtex/parser.rb
p
3
x
3
val
x
7
_values
x
6
result
x
17
method_visibility
x
15
add_defn_method
p
379
I
2
I
e
I
10
I
33
I
24
I
34
I
38
I
35
I
4c
I
36
I
60
I
37
I
74
I
38
I
78
I
32
I
7b
I
3b
I
8f
I
3c
I
a3
I
3d
I
b1
I
3e
I
c5
I
3f
I
d8
I
40
I
dc
I
3a
I
df
I
43
I
ee
I
44
I
fd
I
45
I
10d
I
46
I
11d
I
47
I
12c
I
48
I
139
I
42
I
13c
I
4b
I
14f
I
4c
I
163
I
4d
I
177
I
4e
I
18b
I
4f
I
19f
I
50
I
1b3
I
4a
I
1b6
I
53
I
1c9
I
54
I
1dc
I
55
I
1e8
I
52
I
1eb
I
58
I
1fe
I
59
I
211
I
5a
I
21d
I
57
I
220
I
5d
I
232
I
5e
I
244
I
5c
I
247
I
61
I
251
I
62
I
25c
I
60
I
25f
I
65
I
263
I
66
I
268
I
67
I
26d
I
68
I
272
I
69
I
277
I
6a
I
27c
I
6b
I
281
I
6c
I
286
I
6d
I
28b
I
6e
I
290
I
6f
I
295
I
70
I
29a
I
71
I
2a0
I
72
I
2a5
I
73
I
2aa
I
74
I
2b0
I
75
I
2b6
I
76
I
2bc
I
77
I
2c1
I
78
I
2c7
I
79
I
2cc
I
7a
I
2d2
I
7b
I
2d7
I
7c
I
2dd
I
7d
I
2e3
I
7e
I
2e8
I
7f
I
2ee
I
80
I
2f3
I
81
I
2f8
I
82
I
2fd
I
83
I
302
I
84
I
308
I
85
I
30e
I
86
I
313
I
87
I
31a
I
64
I
31d
I
89
I
322
I
8b
I
327
I
9e
I
330
I
8e
I
337
I
8f
I
33f
I
90
I
347
I
91
I
350
I
92
I
359
I
93
I
362
I
94
I
36b
I
95
I
374
I
96
I
37d
I
97
I
386
I
98
I
38f
I
99
I
398
I
9a
I
3a1
I
9b
I
3aa
I
9c
I
3b3
I
9d
I
3bc
I
9e
I
3c4
I
8d
I
3c7
I
a0
I
3cc
I
a2
I
3d0
I
a4
I
3d3
I
a5
I
3d5
I
a6
I
3d7
I
a7
I
3d9
I
a8
I
3db
I
a9
I
3dd
I
aa
I
3df
I
ab
I
3e1
I
ac
I
3e3
I
ad
I
3e5
I
ae
I
3e7
I
af
I
3e9
I
b0
I
3eb
I
b1
I
3ed
I
b2
I
3f5
I
b4
I
3f8
I
b5
I
3fb
I
b6
I
3fe
I
b7
I
401
I
b8
I
404
I
b9
I
407
I
ba
I
40a
I
bb
I
40d
I
bc
I
410
I
bd
I
413
I
be
I
416
I
bf
I
419
I
c0
I
41c
I
c1
I
41f
I
c2
I
422
I
c3
I
425
I
c4
I
428
I
c5
I
42b
I
c6
I
42e
I
c7
I
431
I
c8
I
434
I
c9
I
437
I
ca
I
43a
I
cb
I
43d
I
cc
I
440
I
cd
I
443
I
ce
I
446
I
cf
I
449
I
d0
I
44c
I
d1
I
44f
I
d2
I
452
I
d3
I
455
I
d4
I
458
I
d5
I
45b
I
d6
I
45e
I
d7
I
467
I
d9
I
46f
I
df
I
47d
I
e6
I
48b
I
ed
I
499
I
f4
I
4a7
I
fb
I
4b5
I
102
I
4c3
I
109
I
4d1
I
110
I
4df
I
117
I
4ed
I
11e
I
4fb
I
125
I
509
I
12c
I
517
I
133
I
525
I
13a
I
533
I
141
I
541
I
148
I
54f
I
14f
I
55d
I
156
I
56b
I
15d
I
579
I
164
I
587
I
16b
I
595
I
172
I
5a3
I
179
I
5b1
I
180
I
5bf
I
187
I
5cd
I
18e
I
5db
I
195
I
5e9
I
19c
I
5f7
I
1a3
I
605
I
1aa
I
613
I
1b1
I
621
I
1b8
I
62f
I
1bf
I
63d
I
1c6
I
64b
I
1cd
I
659
x
54
/Users/sylvester/Work/bibtex-ruby/lib/bibtex/parser.rb
p
14
x
17
racc_action_table
x
17
racc_action_check
x
19
racc_action_pointer
x
19
racc_action_default
x
15
racc_goto_table
x
15
racc_goto_check
x
17
racc_goto_pointer
x
17
racc_goto_default
x
17
racc_reduce_table
x
13
racc_reduce_n
x
12
racc_shift_n
x
16
racc_token_table
x
12
racc_nt_base
x
19
racc_use_result_var
x
13
attach_method
p
3
I
2
I
c
I
21
x
54
/Users/sylvester/Work/bibtex-ruby/lib/bibtex/parser.rb
p
0
x
13
attach_method
p
7
I
0
I
7
I
9
I
9
I
12
I
b
I
2e
x
54
/Users/sylvester/Work/bibtex-ruby/lib/bibtex/parser.rb
p
0
