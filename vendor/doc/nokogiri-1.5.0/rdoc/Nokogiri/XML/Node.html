<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Nokogiri::XML::Node</title>

  <link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

  <script src="../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../lib/nokogiri/xml/node/save_options_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/nokogiri/xml/node/save_options.rb">lib/nokogiri/xml/node/save_options.rb</a></li>
          
            <li><a href="../../lib/nokogiri/xml/node_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/nokogiri/xml/node.rb">lib/nokogiri/xml/node.rb</a></li>
          
            <li><a href="../../ext/nokogiri/xml_sax_push_parser_c.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="ext/nokogiri/xml_sax_push_parser.c">ext/nokogiri/xml_sax_push_parser.c</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="../../Object.html">Object</a></p>
        
      </div>
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">CLASS</span> <a href="Node/SaveOptions.html">Nokogiri::XML::Node::SaveOptions</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-25">#%</a></li>
          
          <li><a href="#method-i-2F">#/</a></li>
          
          <li><a href="#method-i-3C-3C">#<<</a></li>
          
          <li><a href="#method-i-3C-3D-3E">#<=></a></li>
          
          <li><a href="#method-i-3D-3D">#==</a></li>
          
          <li><a href="#method-i-3E">#></a></li>
          
          <li><a href="#method-i-5B-5D">#[]</a></li>
          
          <li><a href="#method-i-5B-5D-3D">#[]=</a></li>
          
          <li><a href="#method-i-accept">#accept</a></li>
          
          <li><a href="#method-i-add_child">#add_child</a></li>
          
          <li><a href="#method-i-add_namespace">#add_namespace</a></li>
          
          <li><a href="#method-i-add_namespace_definition">#add_namespace_definition</a></li>
          
          <li><a href="#method-i-add_next_sibling">#add_next_sibling</a></li>
          
          <li><a href="#method-i-add_previous_sibling">#add_previous_sibling</a></li>
          
          <li><a href="#method-i-after">#after</a></li>
          
          <li><a href="#method-i-ancestors">#ancestors</a></li>
          
          <li><a href="#method-i-at">#at</a></li>
          
          <li><a href="#method-i-at_css">#at_css</a></li>
          
          <li><a href="#method-i-at_xpath">#at_xpath</a></li>
          
          <li><a href="#method-i-attr">#attr</a></li>
          
          <li><a href="#method-i-attribute">#attribute</a></li>
          
          <li><a href="#method-i-attribute_nodes">#attribute_nodes</a></li>
          
          <li><a href="#method-i-attribute_with_ns">#attribute_with_ns</a></li>
          
          <li><a href="#method-i-attributes">#attributes</a></li>
          
          <li><a href="#method-i-before">#before</a></li>
          
          <li><a href="#method-i-blank-3F">#blank?</a></li>
          
          <li><a href="#method-i-cdata-3F">#cdata?</a></li>
          
          <li><a href="#method-i-child">#child</a></li>
          
          <li><a href="#method-i-children">#children</a></li>
          
          <li><a href="#method-i-children-3D">#children=</a></li>
          
          <li><a href="#method-i-clone">#clone</a></li>
          
          <li><a href="#method-i-comment-3F">#comment?</a></li>
          
          <li><a href="#method-i-content">#content</a></li>
          
          <li><a href="#method-i-content-3D">#content=</a></li>
          
          <li><a href="#method-i-create_external_subset">#create_external_subset</a></li>
          
          <li><a href="#method-i-create_internal_subset">#create_internal_subset</a></li>
          
          <li><a href="#method-i-css">#css</a></li>
          
          <li><a href="#method-i-css_path">#css_path</a></li>
          
          <li><a href="#method-i-decorate-21">#decorate!</a></li>
          
          <li><a href="#method-i-default_namespace-3D">#default_namespace=</a></li>
          
          <li><a href="#method-i-delete">#delete</a></li>
          
          <li><a href="#method-i-description">#description</a></li>
          
          <li><a href="#method-i-document">#document</a></li>
          
          <li><a href="#method-i-dup">#dup</a></li>
          
          <li><a href="#method-i-each">#each</a></li>
          
          <li><a href="#method-i-elem-3F">#elem?</a></li>
          
          <li><a href="#method-i-element-3F">#element?</a></li>
          
          <li><a href="#method-i-element_children">#element_children</a></li>
          
          <li><a href="#method-i-elements">#elements</a></li>
          
          <li><a href="#method-i-encode_special_chars">#encode_special_chars</a></li>
          
          <li><a href="#method-i-external_subset">#external_subset</a></li>
          
          <li><a href="#method-i-first_element_child">#first_element_child</a></li>
          
          <li><a href="#method-i-fragment">#fragment</a></li>
          
          <li><a href="#method-i-fragment-3F">#fragment?</a></li>
          
          <li><a href="#method-i-get_attribute">#get_attribute</a></li>
          
          <li><a href="#method-i-has_attribute-3F">#has_attribute?</a></li>
          
          <li><a href="#method-i-html-3F">#html?</a></li>
          
          <li><a href="#method-i-inner_html">#inner_html</a></li>
          
          <li><a href="#method-i-inner_html-3D">#inner_html=</a></li>
          
          <li><a href="#method-i-inner_text">#inner_text</a></li>
          
          <li><a href="#method-i-internal_subset">#internal_subset</a></li>
          
          <li><a href="#method-i-key-3F">#key?</a></li>
          
          <li><a href="#method-i-keys">#keys</a></li>
          
          <li><a href="#method-i-last_element_child">#last_element_child</a></li>
          
          <li><a href="#method-i-line">#line</a></li>
          
          <li><a href="#method-i-matches-3F">#matches?</a></li>
          
          <li><a href="#method-i-name">#name</a></li>
          
          <li><a href="#method-i-name-3D">#name=</a></li>
          
          <li><a href="#method-i-namespace">#namespace</a></li>
          
          <li><a href="#method-i-namespace-3D">#namespace=</a></li>
          
          <li><a href="#method-i-namespace_definitions">#namespace_definitions</a></li>
          
          <li><a href="#method-i-namespace_scopes">#namespace_scopes</a></li>
          
          <li><a href="#method-i-namespaced_key-3F">#namespaced_key?</a></li>
          
          <li><a href="#method-i-namespaces">#namespaces</a></li>
          
          <li><a href="#method-i-next">#next</a></li>
          
          <li><a href="#method-i-next_element">#next_element</a></li>
          
          <li><a href="#method-i-next_sibling">#next_sibling</a></li>
          
          <li><a href="#method-i-node_name">#node_name</a></li>
          
          <li><a href="#method-i-node_name-3D">#node_name=</a></li>
          
          <li><a href="#method-i-node_type">#node_type</a></li>
          
          <li><a href="#method-i-parent">#parent</a></li>
          
          <li><a href="#method-i-parent-3D">#parent=</a></li>
          
          <li><a href="#method-i-parse">#parse</a></li>
          
          <li><a href="#method-i-path">#path</a></li>
          
          <li><a href="#method-i-pointer_id">#pointer_id</a></li>
          
          <li><a href="#method-i-previous">#previous</a></li>
          
          <li><a href="#method-i-previous-3D">#previous=</a></li>
          
          <li><a href="#method-i-previous_element">#previous_element</a></li>
          
          <li><a href="#method-i-previous_sibling">#previous_sibling</a></li>
          
          <li><a href="#method-i-read_only-3F">#read_only?</a></li>
          
          <li><a href="#method-i-remove">#remove</a></li>
          
          <li><a href="#method-i-remove_attribute">#remove_attribute</a></li>
          
          <li><a href="#method-i-replace">#replace</a></li>
          
          <li><a href="#method-i-search">#search</a></li>
          
          <li><a href="#method-i-serialize">#serialize</a></li>
          
          <li><a href="#method-i-set_attribute">#set_attribute</a></li>
          
          <li><a href="#method-i-swap">#swap</a></li>
          
          <li><a href="#method-i-text">#text</a></li>
          
          <li><a href="#method-i-text-3F">#text?</a></li>
          
          <li><a href="#method-i-to_html">#to_html</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
          <li><a href="#method-i-to_str">#to_str</a></li>
          
          <li><a href="#method-i-to_xhtml">#to_xhtml</a></li>
          
          <li><a href="#method-i-to_xml">#to_xml</a></li>
          
          <li><a href="#method-i-traverse">#traverse</a></li>
          
          <li><a href="#method-i-type">#type</a></li>
          
          <li><a href="#method-i-unlink">#unlink</a></li>
          
          <li><a href="#method-i-values">#values</a></li>
          
          <li><a href="#method-i-write_html_to">#write_html_to</a></li>
          
          <li><a href="#method-i-write_to">#write_to</a></li>
          
          <li><a href="#method-i-write_xhtml_to">#write_xhtml_to</a></li>
          
          <li><a href="#method-i-write_xml_to">#write_xml_to</a></li>
          
          <li><a href="#method-i-xml-3F">#xml?</a></li>
          
          <li><a href="#method-i-xpath">#xpath</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="PP/Node.html">Nokogiri::XML::PP::Node</a></li>
        
        
        
          <li><span class="include">Enumerable</span></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../CHANGELOG_ja_rdoc.html">CHANGELOG.ja.rdoc</a></li>
        
          <li class="file"><a href="../../CHANGELOG_rdoc.html">CHANGELOG.rdoc</a></li>
        
          <li class="file"><a href="../../Manifest_txt.html">Manifest.txt</a></li>
        
          <li class="file"><a href="../../README_ja_rdoc.html">README.ja.rdoc</a></li>
        
          <li class="file"><a href="../../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../Nokogiri.html">Nokogiri</a></li>
        
          <li><a href="../../Nokogiri/CSS.html">Nokogiri::CSS</a></li>
        
          <li><a href="../../Nokogiri/CSS/Node.html">Nokogiri::CSS::Node</a></li>
        
          <li><a href="../../Nokogiri/CSS/Parser.html">Nokogiri::CSS::Parser</a></li>
        
          <li><a href="../../Nokogiri/CSS/SyntaxError.html">Nokogiri::CSS::SyntaxError</a></li>
        
          <li><a href="../../Nokogiri/CSS/Tokenizer.html">Nokogiri::CSS::Tokenizer</a></li>
        
          <li><a href="../../Nokogiri/CSS/Tokenizer/ScanError.html">Nokogiri::CSS::Tokenizer::ScanError</a></li>
        
          <li><a href="../../Nokogiri/Decorators.html">Nokogiri::Decorators</a></li>
        
          <li><a href="../../Nokogiri/Decorators/Slop.html">Nokogiri::Decorators::Slop</a></li>
        
          <li><a href="../../Nokogiri/EncodingHandler.html">Nokogiri::EncodingHandler</a></li>
        
          <li><a href="../../Nokogiri/HTML.html">Nokogiri::HTML</a></li>
        
          <li><a href="../../Nokogiri/HTML/Builder.html">Nokogiri::HTML::Builder</a></li>
        
          <li><a href="../../Nokogiri/HTML/Document.html">Nokogiri::HTML::Document</a></li>
        
          <li><a href="../../Nokogiri/HTML/DocumentFragment.html">Nokogiri::HTML::DocumentFragment</a></li>
        
          <li><a href="../../Nokogiri/HTML/ElementDescription.html">Nokogiri::HTML::ElementDescription</a></li>
        
          <li><a href="../../Nokogiri/HTML/EntityDescription.html">Nokogiri::HTML::EntityDescription</a></li>
        
          <li><a href="../../Nokogiri/HTML/EntityLookup.html">Nokogiri::HTML::EntityLookup</a></li>
        
          <li><a href="../../Nokogiri/HTML/SAX.html">Nokogiri::HTML::SAX</a></li>
        
          <li><a href="../../Nokogiri/HTML/SAX/Parser.html">Nokogiri::HTML::SAX::Parser</a></li>
        
          <li><a href="../../Nokogiri/HTML/SAX/ParserContext.html">Nokogiri::HTML::SAX::ParserContext</a></li>
        
          <li><a href="../../Nokogiri/SyntaxError.html">Nokogiri::SyntaxError</a></li>
        
          <li><a href="../../Nokogiri/XML.html">Nokogiri::XML</a></li>
        
          <li><a href="../../Nokogiri/XML/Attr.html">Nokogiri::XML::Attr</a></li>
        
          <li><a href="../../Nokogiri/XML/AttributeDecl.html">Nokogiri::XML::AttributeDecl</a></li>
        
          <li><a href="../../Nokogiri/XML/Builder.html">Nokogiri::XML::Builder</a></li>
        
          <li><a href="../../Nokogiri/XML/CDATA.html">Nokogiri::XML::CDATA</a></li>
        
          <li><a href="../../Nokogiri/XML/CharacterData.html">Nokogiri::XML::CharacterData</a></li>
        
          <li><a href="../../Nokogiri/XML/Comment.html">Nokogiri::XML::Comment</a></li>
        
          <li><a href="../../Nokogiri/XML/DTD.html">Nokogiri::XML::DTD</a></li>
        
          <li><a href="../../Nokogiri/XML/Document.html">Nokogiri::XML::Document</a></li>
        
          <li><a href="../../Nokogiri/XML/DocumentFragment.html">Nokogiri::XML::DocumentFragment</a></li>
        
          <li><a href="../../Nokogiri/XML/Element.html">Nokogiri::XML::Element</a></li>
        
          <li><a href="../../Nokogiri/XML/ElementContent.html">Nokogiri::XML::ElementContent</a></li>
        
          <li><a href="../../Nokogiri/XML/ElementDecl.html">Nokogiri::XML::ElementDecl</a></li>
        
          <li><a href="../../Nokogiri/XML/EntityDecl.html">Nokogiri::XML::EntityDecl</a></li>
        
          <li><a href="../../Nokogiri/XML/EntityReference.html">Nokogiri::XML::EntityReference</a></li>
        
          <li><a href="../../Nokogiri/XML/Namespace.html">Nokogiri::XML::Namespace</a></li>
        
          <li><a href="../../Nokogiri/XML/Node.html">Nokogiri::XML::Node</a></li>
        
          <li><a href="../../Nokogiri/XML/Node/SaveOptions.html">Nokogiri::XML::Node::SaveOptions</a></li>
        
          <li><a href="../../Nokogiri/XML/NodeSet.html">Nokogiri::XML::NodeSet</a></li>
        
          <li><a href="../../Nokogiri/XML/Notation.html">Nokogiri::XML::Notation</a></li>
        
          <li><a href="../../Nokogiri/XML/PP.html">Nokogiri::XML::PP</a></li>
        
          <li><a href="../../Nokogiri/XML/PP/CharacterData.html">Nokogiri::XML::PP::CharacterData</a></li>
        
          <li><a href="../../Nokogiri/XML/PP/Node.html">Nokogiri::XML::PP::Node</a></li>
        
          <li><a href="../../Nokogiri/XML/ParseOptions.html">Nokogiri::XML::ParseOptions</a></li>
        
          <li><a href="../../Nokogiri/XML/ProcessingInstruction.html">Nokogiri::XML::ProcessingInstruction</a></li>
        
          <li><a href="../../Nokogiri/XML/Reader.html">Nokogiri::XML::Reader</a></li>
        
          <li><a href="../../Nokogiri/XML/RelaxNG.html">Nokogiri::XML::RelaxNG</a></li>
        
          <li><a href="../../Nokogiri/XML/SAX.html">Nokogiri::XML::SAX</a></li>
        
          <li><a href="../../Nokogiri/XML/SAX/Document.html">Nokogiri::XML::SAX::Document</a></li>
        
          <li><a href="../../Nokogiri/XML/SAX/Parser.html">Nokogiri::XML::SAX::Parser</a></li>
        
          <li><a href="../../Nokogiri/XML/SAX/Parser/Attribute.html">Nokogiri::XML::SAX::Parser::Attribute</a></li>
        
          <li><a href="../../Nokogiri/XML/SAX/ParserContext.html">Nokogiri::XML::SAX::ParserContext</a></li>
        
          <li><a href="../../Nokogiri/XML/SAX/PushParser.html">Nokogiri::XML::SAX::PushParser</a></li>
        
          <li><a href="../../Nokogiri/XML/Schema.html">Nokogiri::XML::Schema</a></li>
        
          <li><a href="../../Nokogiri/XML/SyntaxError.html">Nokogiri::XML::SyntaxError</a></li>
        
          <li><a href="../../Nokogiri/XML/Text.html">Nokogiri::XML::Text</a></li>
        
          <li><a href="../../Nokogiri/XML/XPath.html">Nokogiri::XML::XPath</a></li>
        
          <li><a href="../../Nokogiri/XML/XPath/SyntaxError.html">Nokogiri::XML::XPath::SyntaxError</a></li>
        
          <li><a href="../../Nokogiri/XML/XPathContext.html">Nokogiri::XML::XPathContext</a></li>
        
          <li><a href="../../Nokogiri/XSLT.html">Nokogiri::XSLT</a></li>
        
          <li><a href="../../Nokogiri/XSLT/Stylesheet.html">Nokogiri::XSLT::Stylesheet</a></li>
        
          <li><a href="../../XSD.html">XSD</a></li>
        
          <li><a href="../../XSD/XMLParser.html">XSD::XMLParser</a></li>
        
          <li><a href="../../XSD/XMLParser/Nokogiri.html">XSD::XMLParser::Nokogiri</a></li>
        
          <li><a href="../../Object.html">Object</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Nokogiri::XML::Node</h1>

    <div id="description" class="description">
      
<p><a href="Node.html">Nokogiri::XML::Node</a> is your window to the fun
filled world of dealing with <a href="../XML.html">XML</a> and <a
href="../HTML.html">HTML</a> tags.  A <a
href="Node.html">Nokogiri::XML::Node</a> may be treated similarly to a hash
with regard to attributes.  For example (from irb):</p>

<pre>irb(main):004:0&gt; node
=&gt; &lt;a href=&quot;#foo&quot; id=&quot;link&quot;&gt;link&lt;/a&gt;
irb(main):005:0&gt; node['href']
=&gt; &quot;#foo&quot;
irb(main):006:0&gt; node.keys
=&gt; [&quot;href&quot;, &quot;id&quot;]
irb(main):007:0&gt; node.values
=&gt; [&quot;#foo&quot;, &quot;link&quot;]
irb(main):008:0&gt; node['class'] = 'green'
=&gt; &quot;green&quot;
irb(main):009:0&gt; node
=&gt; &lt;a href=&quot;#foo&quot; id=&quot;link&quot; class=&quot;green&quot;&gt;link&lt;/a&gt;
irb(main):010:0&gt;</pre>

<p>See Nokogiri::XML::Node#[] and Nokogiri::XML#[]= for more information.</p>

<p><a href="Node.html">Nokogiri::XML::Node</a> also has methods that let you
move around your tree.  For navigating your tree, see:</p>
<ul><li>
<p><a href="Node.html#method-i-parent">Nokogiri::XML::Node#parent</a></p>
</li><li>
<p><a href="Node.html#method-i-children">Nokogiri::XML::Node#children</a></p>
</li><li>
<p><a href="Node.html#method-i-next">Nokogiri::XML::Node#next</a></p>
</li><li>
<p><a href="Node.html#method-i-previous">Nokogiri::XML::Node#previous</a></p>
</li></ul>

<p>You may search this node’s subtree using <a
href="Node.html#method-i-xpath">Node#xpath</a> and <a
href="Node.html#method-i-css">Node#css</a></p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="ATTRIBUTE_DECL">ATTRIBUTE_DECL</a></dt>
          
          <dd class="description"><p>Attribute declaration type</p></dd>
          
        
          <dt><a name="ATTRIBUTE_NODE">ATTRIBUTE_NODE</a></dt>
          
          <dd class="description"><p>Attribute node type</p></dd>
          
        
          <dt><a name="CDATA_SECTION_NODE">CDATA_SECTION_NODE</a></dt>
          
          <dd class="description"><p><a href="CDATA.html">CDATA</a> node type, see <a
href="Node.html#method-i-cdata-3F">Nokogiri::XML::Node#cdata?</a></p></dd>
          
        
          <dt><a name="COMMENT_NODE">COMMENT_NODE</a></dt>
          
          <dd class="description"><p><a href="Comment.html">Comment</a> node type, see <a
href="Node.html#method-i-comment-3F">Nokogiri::XML::Node#comment?</a></p></dd>
          
        
          <dt><a name="DOCB_DOCUMENT_NODE">DOCB_DOCUMENT_NODE</a></dt>
          
          <dd class="description"><p>DOCB document node type</p></dd>
          
        
          <dt><a name="DOCUMENT_FRAG_NODE">DOCUMENT_FRAG_NODE</a></dt>
          
          <dd class="description"><p><a href="Document.html">Document</a> fragment node type</p></dd>
          
        
          <dt><a name="DOCUMENT_NODE">DOCUMENT_NODE</a></dt>
          
          <dd class="description"><p><a href="Document.html">Document</a> node type, see <a
href="Node.html#method-i-xml-3F">Nokogiri::XML::Node#xml?</a></p></dd>
          
        
          <dt><a name="DOCUMENT_TYPE_NODE">DOCUMENT_TYPE_NODE</a></dt>
          
          <dd class="description"><p><a href="Document.html">Document</a> type node type</p></dd>
          
        
          <dt><a name="DTD_NODE">DTD_NODE</a></dt>
          
          <dd class="description"><p><a href="DTD.html">DTD</a> node type</p></dd>
          
        
          <dt><a name="ELEMENT_DECL">ELEMENT_DECL</a></dt>
          
          <dd class="description"><p><a href="Element.html">Element</a> declaration type</p></dd>
          
        
          <dt><a name="ELEMENT_NODE">ELEMENT_NODE</a></dt>
          
          <dd class="description"><p><a href="Element.html">Element</a> node type, see <a
href="Node.html#method-i-element-3F">Nokogiri::XML::Node#element?</a></p></dd>
          
        
          <dt><a name="ENTITY_DECL">ENTITY_DECL</a></dt>
          
          <dd class="description"><p>Entity declaration type</p></dd>
          
        
          <dt><a name="ENTITY_NODE">ENTITY_NODE</a></dt>
          
          <dd class="description"><p>Entity node type</p></dd>
          
        
          <dt><a name="ENTITY_REF_NODE">ENTITY_REF_NODE</a></dt>
          
          <dd class="description"><p>Entity reference node type</p></dd>
          
        
          <dt><a name="HTML_DOCUMENT_NODE">HTML_DOCUMENT_NODE</a></dt>
          
          <dd class="description"><p><a href="../HTML.html">HTML</a> document node type, see <a
href="Node.html#method-i-html-3F">Nokogiri::XML::Node#html?</a></p></dd>
          
        
          <dt><a name="NAMESPACE_DECL">NAMESPACE_DECL</a></dt>
          
          <dd class="description"><p><a href="Namespace.html">Namespace</a> declaration type</p></dd>
          
        
          <dt><a name="NOTATION_NODE">NOTATION_NODE</a></dt>
          
          <dd class="description"><p><a href="Notation.html">Notation</a> node type</p></dd>
          
        
          <dt><a name="PI_NODE">PI_NODE</a></dt>
          
          <dd class="description"><p>PI node type</p></dd>
          
        
          <dt><a name="TEXT_NODE">TEXT_NODE</a></dt>
          
          <dd class="description"><p><a href="Text.html">Text</a> node type, see <a
href="Node.html#method-i-text-3F">Nokogiri::XML::Node#text?</a></p></dd>
          
        
          <dt><a name="XINCLUDE_END">XINCLUDE_END</a></dt>
          
          <dd class="description"><p>XInclude end type</p></dd>
          
        
          <dt><a name="XINCLUDE_START">XINCLUDE_START</a></dt>
          
          <dd class="description"><p>XInclude start type</p></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">new(name, document)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Create a new node with <tt>name</tt> sharing GC lifecycle with
<tt>document</tt></p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
static VALUE new(int argc, VALUE *argv, VALUE klass)
{
  xmlDocPtr doc;
  xmlNodePtr node;
  VALUE name;
  VALUE document;
  VALUE rest;
  VALUE rb_node;

  rb_scan_args(argc, argv, &quot;2*&quot;, &amp;name, &amp;document, &amp;rest);

  Data_Get_Struct(document, xmlDoc, doc);

  node = xmlNewNode(NULL, (xmlChar *)StringValuePtr(name));
  node-&gt;doc = doc-&gt;doc;
  NOKOGIRI_ROOT_NODE(node);

  rb_node = Nokogiri_wrap_xml_node(
      klass == cNokogiriXmlNode ? (VALUE)NULL : klass,
      node
  );
  rb_obj_call_init(rb_node, argc, argv);

  if(rb_block_given_p()) rb_yield(rb_node);

  return rb_node;
}</pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="25-method" class="method-detail method-alias">
          <a name="method-i-25"></a>

          
          <div class="method-heading">
            <span class="method-name">%</span><span
              class="method-args">(path, ns = document.root ? document.root.namespaces : {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-at">at</a>
          </div>
          
        </div><!-- 25-method -->

      
        <div id="2F-method" class="method-detail method-alias">
          <a name="method-i-2F"></a>

          
          <div class="method-heading">
            <span class="method-name">/</span><span
              class="method-args">(*paths)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-search">search</a>
          </div>
          
        </div><!-- 2F-method -->

      
        <div id="3C-3C-method" class="method-detail ">
          <a name="method-i-3C-3C"></a>

          
          <div class="method-heading">
            <span class="method-name">&lt;&lt;</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Add <tt>node_or_tags</tt> as a child of this <a href="Node.html">Node</a>.
<tt>node_or_tags</tt> can be a <a href="Node.html">Nokogiri::XML::Node</a>,
a ::DocumentFragment, a ::NodeSet, or a string containing markup.</p>

<p>Returns self, to support chaining of calls (e.g., root &lt;&lt; child1
&lt;&lt; child2)</p>

<p>Also see related method <tt><a
href="Node.html#method-i-add_child">add_child</a></tt>.</p>
            

            
            <div class="method-source-code" id="3C-3C-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">add_child</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 3C-3C-source -->
            
          </div>

          

          
        </div><!-- 3C-3C-method -->

      
        <div id="3C-3D-3E-method" class="method-detail ">
          <a name="method-i-3C-3D-3E"></a>

          
          <div class="method-heading">
            <span class="method-name">&lt;=&gt;</span><span
              class="method-args">(other)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Compare two <a href="Node.html">Node</a> objects with respect to their <a
href="Document.html">Document</a>.  Nodes from different documents cannot
be compared.</p>
            

            
            <div class="method-source-code" id="3C-3D-3E-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 862</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">document</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">document</span>
  <span class="ruby-identifier">compare</span> <span class="ruby-identifier">other</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 3C-3D-3E-source -->
            
          </div>

          

          
        </div><!-- 3C-3D-3E-method -->

      
        <div id="3D-3D-method" class="method-detail ">
          <a name="method-i-3D-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">==</span><span
              class="method-args">(other)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Test to see if this <a href="Node.html">Node</a> is equal to <tt>other</tt></p>
            

            
            <div class="method-source-code" id="3D-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 708</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">other</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:pointer_id</span>)
  <span class="ruby-identifier">pointer_id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">pointer_id</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 3D-3D-source -->
            
          </div>

          

          
        </div><!-- 3D-3D-method -->

      
        <div id="3E-method" class="method-detail ">
          <a name="method-i-3E"></a>

          
          <div class="method-heading">
            <span class="method-name">&gt;</span><span
              class="method-args">(selector)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Search this node’s immediate children using <a href="../CSS.html">CSS</a>
selector <tt>selector</tt></p>
            

            
            <div class="method-source-code" id="3E-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selector</span>
  <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span>
  <span class="ruby-identifier">xpath</span> <span class="ruby-constant">CSS</span>.<span class="ruby-identifier">xpath_for</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-value">:prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;./&quot;</span>, <span class="ruby-value">:ns</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ns</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 3E-source -->
            
          </div>

          

          
        </div><!-- 3E-method -->

      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-i-5B-5D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the attribute value for the attribute <tt>name</tt></p>
            

            
            <div class="method-source-code" id="5B-5D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">key?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">get</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- 5B-5D-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-get_attribute">get_attribute</a>, <a href="Node.html#method-i-attr">attr</a>
          </div>
          

          
        </div><!-- 5B-5D-method -->

      
        <div id="5B-5D-3D-method" class="method-detail ">
          <a name="method-i-5B-5D-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">[]=(property, value)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Set the <tt>property</tt> to <tt>value</tt></p>
            

            
            <div class="method-source-code" id="5B-5D-3D-source">
<pre>
static VALUE set(VALUE self, VALUE property, VALUE value)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  xmlSetProp(node, (xmlChar *)StringValuePtr(property),
      (xmlChar *)StringValuePtr(value));

  return value;
}</pre>
            </div><!-- 5B-5D-3D-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-set_attribute">set_attribute</a>
          </div>
          

          
        </div><!-- 5B-5D-3D-method -->

      
        <div id="accept-method" class="method-detail ">
          <a name="method-i-accept"></a>

          
          <div class="method-heading">
            <span class="method-name">accept</span><span
              class="method-args">(visitor)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Accept a visitor.  This method calls “visit” on <tt>visitor</tt> with self.</p>
            

            
            <div class="method-source-code" id="accept-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 702</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">visitor</span>
  <span class="ruby-identifier">visitor</span>.<span class="ruby-identifier">visit</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- accept-source -->
            
          </div>

          

          
        </div><!-- accept-method -->

      
        <div id="add_child-method" class="method-detail ">
          <a name="method-i-add_child"></a>

          
          <div class="method-heading">
            <span class="method-name">add_child</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Add <tt>node_or_tags</tt> as a child of this <a href="Node.html">Node</a>.
<tt>node_or_tags</tt> can be a <a href="Node.html">Nokogiri::XML::Node</a>,
a ::DocumentFragment, a ::NodeSet, or a string containing markup.</p>

<p>Returns the reparented node (if <tt>node_or_tags</tt> is a <a
href="Node.html">Node</a>), or <a href="NodeSet.html">NodeSet</a> (if
<tt>node_or_tags</tt> is a <a
href="DocumentFragment.html">DocumentFragment</a>, <a
href="NodeSet.html">NodeSet</a>, or string).</p>

<p>Also see related method +&lt;&lt;+.</p>
            

            
            <div class="method-source-code" id="add_child-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_child</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">node_or_tags</span> = <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">node_or_tags</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>)
    <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">add_child_node</span> <span class="ruby-identifier">n</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">add_child_node</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node_or_tags</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_child-source -->
            
          </div>

          

          
        </div><!-- add_child-method -->

      
        <div id="add_namespace-method" class="method-detail method-alias">
          <a name="method-i-add_namespace"></a>

          
          <div class="method-heading">
            <span class="method-name">add_namespace</span><span
              class="method-args">(p1, p2)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-add_namespace_definition">add_namespace_definition</a>
          </div>
          
        </div><!-- add_namespace-method -->

      
        <div id="add_namespace_definition-method" class="method-detail ">
          <a name="method-i-add_namespace_definition"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">add_namespace_definition(prefix, href)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Adds a namespace definition with <tt>prefix</tt> using <tt>href</tt> value.
The result is as if parsed <a href="../XML.html">XML</a> for this node had
included an attribute ‘xmlns:prefix=value’.  A default namespace for this
node (“xmlns=”) can be added by passing ‘nil’ for prefix. Namespaces added
this way will not show up in <a
href="Node.html#method-i-attributes">attributes</a>, but they will be
included as an xmlns attribute when the node is serialized to <a
href="../XML.html">XML</a>.</p>
            

            
            <div class="method-source-code" id="add_namespace_definition-source">
<pre>
static VALUE add_namespace_definition(VALUE self, VALUE prefix, VALUE href)
{
  xmlNodePtr node, namespacee;
  xmlNsPtr ns;

  Data_Get_Struct(self, xmlNode, node);
  namespacee = node ;

  ns = xmlSearchNs(
      node-&gt;doc,
      node,
      (const xmlChar *)(NIL_P(prefix) ? NULL : StringValuePtr(prefix))
  );

  if(!ns) {
    if (node-&gt;type != XML_ELEMENT_NODE) {
      namespacee = node-&gt;parent;
    }
    ns = xmlNewNs(
        namespacee,
        (const xmlChar *)StringValuePtr(href),
        (const xmlChar *)(NIL_P(prefix) ? NULL : StringValuePtr(prefix))
    );
  }

  if (!ns) return Qnil ;

  if(NIL_P(prefix) || node != namespacee) xmlSetNs(node, ns);

  return Nokogiri_wrap_xml_namespace(node-&gt;doc, ns);
}</pre>
            </div><!-- add_namespace_definition-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-add_namespace">add_namespace</a>
          </div>
          

          
        </div><!-- add_namespace_definition-method -->

      
        <div id="add_next_sibling-method" class="method-detail ">
          <a name="method-i-add_next_sibling"></a>

          
          <div class="method-heading">
            <span class="method-name">add_next_sibling</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Insert <tt>node_or_tags</tt> after this <a href="Node.html">Node</a> (as a
sibling). <tt>node_or_tags</tt> can be a <a
href="Node.html">Nokogiri::XML::Node</a>, a ::DocumentFragment, a
::NodeSet, or a string containing markup.</p>

<p>Returns the reparented node (if <tt>node_or_tags</tt> is a <a
href="Node.html">Node</a>), or <a href="NodeSet.html">NodeSet</a> (if
<tt>node_or_tags</tt> is a <a
href="DocumentFragment.html">DocumentFragment</a>, <a
href="NodeSet.html">NodeSet</a>, or string).</p>

<p>Also see related method <tt>after</tt>.</p>
            

            
            <div class="method-source-code" id="add_next_sibling-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_next_sibling</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">node_or_tags</span> = <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">node_or_tags</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">text?</span>
      <span class="ruby-identifier">pivot</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">'dummy'</span>, <span class="ruby-identifier">document</span>
      <span class="ruby-identifier">add_next_sibling_node</span> <span class="ruby-identifier">pivot</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">pivot</span> = <span class="ruby-keyword">self</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">reverse_each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pivot</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:add_next_sibling_node</span>, <span class="ruby-identifier">n</span> }
    <span class="ruby-identifier">pivot</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">text?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">add_next_sibling_node</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node_or_tags</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_next_sibling-source -->
            
          </div>

          

          
        </div><!-- add_next_sibling-method -->

      
        <div id="add_previous_sibling-method" class="method-detail ">
          <a name="method-i-add_previous_sibling"></a>

          
          <div class="method-heading">
            <span class="method-name">add_previous_sibling</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Insert <tt>node_or_tags</tt> before this <a href="Node.html">Node</a> (as a
sibling). <tt>node_or_tags</tt> can be a <a
href="Node.html">Nokogiri::XML::Node</a>, a ::DocumentFragment, a
::NodeSet, or a string containing markup.</p>

<p>Returns the reparented node (if <tt>node_or_tags</tt> is a <a
href="Node.html">Node</a>), or <a href="NodeSet.html">NodeSet</a> (if
<tt>node_or_tags</tt> is a <a
href="DocumentFragment.html">DocumentFragment</a>, <a
href="NodeSet.html">NodeSet</a>, or string).</p>

<p>Also see related method <tt>before</tt>.</p>
            

            
            <div class="method-source-code" id="add_previous_sibling-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_previous_sibling</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">node_or_tags</span> = <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">node_or_tags</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">text?</span>
      <span class="ruby-identifier">pivot</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">'dummy'</span>, <span class="ruby-identifier">document</span>
      <span class="ruby-identifier">add_previous_sibling_node</span> <span class="ruby-identifier">pivot</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">pivot</span> = <span class="ruby-keyword">self</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pivot</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:add_previous_sibling_node</span>, <span class="ruby-identifier">n</span> }
    <span class="ruby-identifier">pivot</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">text?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">add_previous_sibling_node</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node_or_tags</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_previous_sibling-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-previous-3D">previous=</a>
          </div>
          

          
        </div><!-- add_previous_sibling-method -->

      
        <div id="after-method" class="method-detail ">
          <a name="method-i-after"></a>

          
          <div class="method-heading">
            <span class="method-name">after</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Insert <tt>node_or_tags</tt> after this node (as a sibling).
<tt>node_or_tags</tt> can be a <a href="Node.html">Nokogiri::XML::Node</a>,
a <a href="DocumentFragment.html">Nokogiri::XML::DocumentFragment</a>, or a
string containing markup.</p>

<p>Returns self, to support chaining of calls.</p>

<p>Also see related method <tt><a
href="Node.html#method-i-add_next_sibling">add_next_sibling</a></tt>.</p>
            

            
            <div class="method-source-code" id="after-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">after</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">add_next_sibling</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- after-source -->
            
          </div>

          

          
        </div><!-- after-method -->

      
        <div id="ancestors-method" class="method-detail ">
          <a name="method-i-ancestors"></a>

          
          <div class="method-heading">
            <span class="method-name">ancestors</span><span
              class="method-args">(selector = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get a list of ancestor <a href="Node.html">Node</a> for this <a
href="Node.html">Node</a>.  If <tt>selector</tt> is given, the ancestors
must match <tt>selector</tt></p>
            

            
            <div class="method-source-code" id="ancestors-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 643</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ancestors</span> <span class="ruby-identifier">selector</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:parent</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">parent</span>

  <span class="ruby-identifier">parents</span> = [<span class="ruby-identifier">parent</span>]

  <span class="ruby-keyword">while</span> <span class="ruby-identifier">parents</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:parent</span>)
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ctx_parent</span> = <span class="ruby-identifier">parents</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">parent</span>
    <span class="ruby-identifier">parents</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ctx_parent</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>, <span class="ruby-identifier">parents</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">selector</span>

  <span class="ruby-identifier">root</span> = <span class="ruby-identifier">parents</span>.<span class="ruby-identifier">last</span>

  <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>, <span class="ruby-identifier">parents</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">parent</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">root</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">selector</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">parent</span>)
  })
<span class="ruby-keyword">end</span></pre>
            </div><!-- ancestors-source -->
            
          </div>

          

          
        </div><!-- ancestors-method -->

      
        <div id="at-method" class="method-detail ">
          <a name="method-i-at"></a>

          
          <div class="method-heading">
            <span class="method-name">at</span><span
              class="method-args">(path, ns = document.root ? document.root.namespaces : {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Search for the first occurrence of <tt>path</tt>.</p>

<p>Returns nil if nothing is found, otherwise a <a href="Node.html">Node</a>.</p>
            

            
            <div class="method-source-code" id="at-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">at</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">search</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">ns</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- at-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-25">%</a>
          </div>
          

          
        </div><!-- at-method -->

      
        <div id="at_css-method" class="method-detail ">
          <a name="method-i-at_css"></a>

          
          <div class="method-heading">
            <span class="method-name">at_css</span><span
              class="method-args">(*rules)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Search this node for the first occurrence of <a href="../CSS.html">CSS</a>
<tt>rules</tt>. Equivalent to <tt>css(rules).first</tt> See <a
href="Node.html#method-i-css">Node#css</a> for more information.</p>
            

            
            <div class="method-source-code" id="at_css-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">at_css</span> *<span class="ruby-identifier">rules</span>
  <span class="ruby-identifier">css</span>(*<span class="ruby-identifier">rules</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- at_css-source -->
            
          </div>

          

          
        </div><!-- at_css-method -->

      
        <div id="at_xpath-method" class="method-detail ">
          <a name="method-i-at_xpath"></a>

          
          <div class="method-heading">
            <span class="method-name">at_xpath</span><span
              class="method-args">(*paths)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Search this node for the first occurrence of <a href="XPath.html">XPath</a>
<tt>paths</tt>. Equivalent to <tt>xpath(paths).first</tt> See <a
href="Node.html#method-i-xpath">Node#xpath</a> for more information.</p>
            

            
            <div class="method-source-code" id="at_xpath-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">at_xpath</span> *<span class="ruby-identifier">paths</span>
  <span class="ruby-identifier">xpath</span>(*<span class="ruby-identifier">paths</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- at_xpath-source -->
            
          </div>

          

          
        </div><!-- at_xpath-method -->

      
        <div id="attr-method" class="method-detail method-alias">
          <a name="method-i-attr"></a>

          
          <div class="method-heading">
            <span class="method-name">attr</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-5B-5D">[]</a>
          </div>
          
        </div><!-- attr-method -->

      
        <div id="attribute-method" class="method-detail ">
          <a name="method-i-attribute"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">attribute(name)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the attribute node with <tt>name</tt></p>
            

            
            <div class="method-source-code" id="attribute-source">
<pre>
static VALUE attr(VALUE self, VALUE name)
{
  xmlNodePtr node;
  xmlAttrPtr prop;
  Data_Get_Struct(self, xmlNode, node);
  prop = xmlHasProp(node, (xmlChar *)StringValuePtr(name));

  if(! prop) return Qnil;
  return Nokogiri_wrap_xml_node(Qnil, (xmlNodePtr)prop);
}</pre>
            </div><!-- attribute-source -->
            
          </div>

          

          
        </div><!-- attribute-method -->

      
        <div id="attribute_nodes-method" class="method-detail ">
          <a name="method-i-attribute_nodes"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">attribute_nodes()</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>returns a list containing the <a href="Node.html">Node</a> attributes.</p>
            

            
            <div class="method-source-code" id="attribute_nodes-source">
<pre>
static VALUE attribute_nodes(VALUE self)
{
    /* this code in the mode of xmlHasProp() */
    xmlNodePtr node;
    VALUE attr;

    Data_Get_Struct(self, xmlNode, node);

    attr = rb_ary_new();
    Nokogiri_xml_node_properties(node, attr);

    return attr ;
}</pre>
            </div><!-- attribute_nodes-source -->
            
          </div>

          

          
        </div><!-- attribute_nodes-method -->

      
        <div id="attribute_with_ns-method" class="method-detail ">
          <a name="method-i-attribute_with_ns"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">attribute_with_ns(name, namespace)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the attribute node with <tt>name</tt> and <tt>namespace</tt></p>
            

            
            <div class="method-source-code" id="attribute_with_ns-source">
<pre>
static VALUE attribute_with_ns(VALUE self, VALUE name, VALUE namespace)
{
  xmlNodePtr node;
  xmlAttrPtr prop;
  Data_Get_Struct(self, xmlNode, node);
  prop = xmlHasNsProp(node, (xmlChar *)StringValuePtr(name),
      NIL_P(namespace) ? NULL : (xmlChar *)StringValuePtr(namespace));

  if(! prop) return Qnil;
  return Nokogiri_wrap_xml_node(Qnil, (xmlNodePtr)prop);
}</pre>
            </div><!-- attribute_with_ns-source -->
            
          </div>

          

          
        </div><!-- attribute_with_ns-method -->

      
        <div id="attributes-method" class="method-detail ">
          <a name="method-i-attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">attributes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a hash containing the node’s attributes.  The key is the attribute
name without any namespace, the value is a <a
href="Attr.html">Nokogiri::XML::Attr</a> representing the attribute. If you
need to distinguish attributes with the same name, with different
namespaces use <a
href="Node.html#method-i-attribute_nodes">attribute_nodes</a> instead.</p>
            

            
            <div class="method-source-code" id="attributes-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 454</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">attributes</span>
  <span class="ruby-constant">Hash</span>[*(<span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    [<span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_name</span>, <span class="ruby-identifier">node</span>]
  }.<span class="ruby-identifier">flatten</span>)]
<span class="ruby-keyword">end</span></pre>
            </div><!-- attributes-source -->
            
          </div>

          

          
        </div><!-- attributes-method -->

      
        <div id="before-method" class="method-detail ">
          <a name="method-i-before"></a>

          
          <div class="method-heading">
            <span class="method-name">before</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Insert <tt>node_or_tags</tt> before this node (as a sibling).
<tt>node_or_tags</tt> can be a <a href="Node.html">Nokogiri::XML::Node</a>,
a ::DocumentFragment, a ::NodeSet, or a string containing markup.</p>

<p>Returns self, to support chaining of calls.</p>

<p>Also see related method <tt><a
href="Node.html#method-i-add_previous_sibling">add_previous_sibling</a></tt>.</p>
            

            
            <div class="method-source-code" id="before-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">before</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">add_previous_sibling</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- before-source -->
            
          </div>

          

          
        </div><!-- before-method -->

      
        <div id="blank-3F-method" class="method-detail ">
          <a name="method-i-blank-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">blank?</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Is this node blank?</p>
            

            
            <div class="method-source-code" id="blank-3F-source">
<pre>
static VALUE blank_eh(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  return (1 == xmlIsBlankNode(node)) ? Qtrue : Qfalse ;
}</pre>
            </div><!-- blank-3F-source -->
            
          </div>

          

          
        </div><!-- blank-3F-method -->

      
        <div id="cdata-3F-method" class="method-detail ">
          <a name="method-i-cdata-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">cdata?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is a <a href="CDATA.html">CDATA</a></p>
            

            
            <div class="method-source-code" id="cdata-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 576</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cdata?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">CDATA_SECTION_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- cdata-3F-source -->
            
          </div>

          

          
        </div><!-- cdata-3F-method -->

      
        <div id="child-method" class="method-detail ">
          <a name="method-i-child"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">child</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the child node</p>
            

            
            <div class="method-source-code" id="child-source">
<pre>
static VALUE child(VALUE self)
{
  xmlNodePtr node, child;
  Data_Get_Struct(self, xmlNode, node);

  child = node-&gt;children;
  if(!child) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, child);
}</pre>
            </div><!-- child-source -->
            
          </div>

          

          
        </div><!-- child-method -->

      
        <div id="children-method" class="method-detail ">
          <a name="method-i-children"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">children</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the list of children for this node as a <a
href="NodeSet.html">NodeSet</a></p>
            

            
            <div class="method-source-code" id="children-source">
<pre>
static VALUE children(VALUE self)
{
  xmlNodePtr node;
  xmlNodePtr child;
  xmlNodeSetPtr set;
  VALUE document;
  VALUE node_set;

  Data_Get_Struct(self, xmlNode, node);

  child = node-&gt;children;
  set = xmlXPathNodeSetCreate(child);

  document = DOC_RUBY_OBJECT(node-&gt;doc);

  if(!child) return Nokogiri_wrap_xml_node_set(set, document);

  child = child-&gt;next;
  while(NULL != child) {
    xmlXPathNodeSetAddUnique(set, child);
    child = child-&gt;next;
  }

  node_set = Nokogiri_wrap_xml_node_set(set, document);

  return node_set;
}</pre>
            </div><!-- children-source -->
            
          </div>

          

          
        </div><!-- children-method -->

      
        <div id="children-3D-method" class="method-detail ">
          <a name="method-i-children-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">children=</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the inner html for this <a href="Node.html">Node</a>
<tt>node_or_tags</tt> <tt>node_or_tags</tt> can be a <a
href="Node.html">Nokogiri::XML::Node</a>, a <a
href="DocumentFragment.html">Nokogiri::XML::DocumentFragment</a>, or a
string containing markup.</p>

<p>Returns the reparented node (if <tt>node_or_tags</tt> is a <a
href="Node.html">Node</a>), or <a href="NodeSet.html">NodeSet</a> (if
<tt>node_or_tags</tt> is a <a
href="DocumentFragment.html">DocumentFragment</a>, <a
href="NodeSet.html">NodeSet</a>, or string).</p>

<p>Also see related method <tt><a
href="Node.html#method-i-inner_html">inner_html</a>=</tt></p>
            

            
            <div class="method-source-code" id="children-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">children=</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">node_or_tags</span> = <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">node_or_tags</span>)
  <span class="ruby-identifier">children</span>.<span class="ruby-identifier">unlink</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>)
    <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">add_child_node</span> <span class="ruby-identifier">n</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">add_child_node</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node_or_tags</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- children-3D-source -->
            
          </div>

          

          
        </div><!-- children-3D-method -->

      
        <div id="clone-method" class="method-detail method-alias">
          <a name="method-i-clone"></a>

          
          <div class="method-heading">
            <span class="method-name">clone</span><span
              class="method-args">(p1 = v1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-dup">dup</a>
          </div>
          
        </div><!-- clone-method -->

      
        <div id="comment-3F-method" class="method-detail ">
          <a name="method-i-comment-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">comment?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is a <a href="Comment.html">Comment</a></p>
            

            
            <div class="method-source-code" id="comment-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 571</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">comment?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">COMMENT_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- comment-3F-source -->
            
          </div>

          

          
        </div><!-- comment-3F-method -->

      
        <div id="content-method" class="method-detail ">
          <a name="method-i-content"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">content</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the content for this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="content-source">
<pre>
static VALUE get_content(VALUE self)
{
  xmlNodePtr node;
  xmlChar * content;

  Data_Get_Struct(self, xmlNode, node);

  content = xmlNodeGetContent(node);
  if(content) {
    VALUE rval = NOKOGIRI_STR_NEW2(content);
    xmlFree(content);
    return rval;
  }
  return Qnil;
}</pre>
            </div><!-- content-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-text">text</a>, <a href="Node.html#method-i-inner_text">inner_text</a>
          </div>
          

          
        </div><!-- content-method -->

      
        <div id="content-3D-method" class="method-detail ">
          <a name="method-i-content-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">content=</span><span
              class="method-args">(string)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the Node’s content to a <a href="Text.html">Text</a> node containing
<tt>string</tt>. The string gets <a href="../XML.html">XML</a> escaped, not
interpreted as markup.</p>
            

            
            <div class="method-source-code" id="content-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 532</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content=</span> <span class="ruby-identifier">string</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">native_content</span> = <span class="ruby-identifier">encode_special_chars</span>(<span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- content-3D-source -->
            
          </div>

          

          
        </div><!-- content-3D-method -->

      
        <div id="create_external_subset-method" class="method-detail ">
          <a name="method-i-create_external_subset"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">create_external_subset(name, external_id, system_id)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Create an external subset</p>
            

            
            <div class="method-source-code" id="create_external_subset-source">
<pre>
static VALUE create_external_subset(VALUE self, VALUE name, VALUE external_id, VALUE system_id)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Data_Get_Struct(self, xmlNode, node);

  doc = node-&gt;doc;

  if(doc-&gt;extSubset)
    rb_raise(rb_eRuntimeError, &quot;Document already has an external subset&quot;);

  dtd = xmlNewDtd(
      doc,
      NIL_P(name)        ? NULL : (const xmlChar *)StringValuePtr(name),
      NIL_P(external_id) ? NULL : (const xmlChar *)StringValuePtr(external_id),
      NIL_P(system_id)   ? NULL : (const xmlChar *)StringValuePtr(system_id)
  );

  if(!dtd) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, (xmlNodePtr)dtd);
}</pre>
            </div><!-- create_external_subset-source -->
            
          </div>

          

          
        </div><!-- create_external_subset-method -->

      
        <div id="create_internal_subset-method" class="method-detail ">
          <a name="method-i-create_internal_subset"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">create_internal_subset(name, external_id, system_id)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Create the internal subset of a document.</p>

<pre>doc.create_internal_subset(&quot;chapter&quot;, &quot;-//OASIS//DTD DocBook XML//EN&quot;, &quot;chapter.dtd&quot;)
# =&gt; &lt;!DOCTYPE chapter PUBLIC &quot;-//OASIS//DTD DocBook XML//EN&quot; &quot;chapter.dtd&quot;&gt;

doc.create_internal_subset(&quot;chapter&quot;, nil, &quot;chapter.dtd&quot;)
# =&gt; &lt;!DOCTYPE chapter SYSTEM &quot;chapter.dtd&quot;&gt;</pre>
            

            
            <div class="method-source-code" id="create_internal_subset-source">
<pre>
static VALUE create_internal_subset(VALUE self, VALUE name, VALUE external_id, VALUE system_id)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Data_Get_Struct(self, xmlNode, node);

  doc = node-&gt;doc;

  if(xmlGetIntSubset(doc))
    rb_raise(rb_eRuntimeError, &quot;Document already has an internal subset&quot;);

  dtd = xmlCreateIntSubset(
      doc,
      NIL_P(name)        ? NULL : (const xmlChar *)StringValuePtr(name),
      NIL_P(external_id) ? NULL : (const xmlChar *)StringValuePtr(external_id),
      NIL_P(system_id)   ? NULL : (const xmlChar *)StringValuePtr(system_id)
  );

  if(!dtd) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, (xmlNodePtr)dtd);
}</pre>
            </div><!-- create_internal_subset-source -->
            
          </div>

          

          
        </div><!-- create_internal_subset-method -->

      
        <div id="css-method" class="method-detail ">
          <a name="method-i-css"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">css *rules, [namespace-bindings, custom-pseudo-class]</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Search this node for <a href="../CSS.html">CSS</a> <tt>rules</tt>.
<tt>rules</tt> must be one or more <a href="../CSS.html">CSS</a> selectors.
For example:</p>

<pre>node.css('title')
node.css('body h1.bold')
node.css('div + p.green', 'div#one')</pre>

<p>A hash of namespace bindings may be appended. For example:</p>

<pre>node.css('bike|tire', {'bike' =&gt; 'http://schwinn.com/'})</pre>

<p>Custom <a href="../CSS.html">CSS</a> pseudo classes may also be defined. 
To define custom pseudo classes, create a class and implement the custom
pseudo class you want defined.  The first argument to the method will be
the current matching <a href="NodeSet.html">NodeSet</a>.  Any other
arguments are ones that you pass in.  For example:</p>

<pre>node.css('title:regex(&quot;\w+&quot;)', Class.new {
  def regex node_set, regex
    node_set.find_all { |node| node['some_attribute'] =~ /#{regex}/ }
  end
}.new)</pre>

<p>Note that the <a href="../CSS.html">CSS</a> query string is case-sensitive
with regards to your document type. That is, if you’re looking for “H1” in
an <a href="../HTML.html">HTML</a> document, you’ll never find anything,
since <a href="../HTML.html">HTML</a> tags will match only lowercase <a
href="../CSS.html">CSS</a> queries. However, “H1” might be found in an <a
href="../XML.html">XML</a> document, where tags names are case-sensitive
(e.g., “H1” is distinct from “h1”).</p>
            

            
            <div class="method-source-code" id="css-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">css</span> *<span class="ruby-identifier">rules</span>
  <span class="ruby-identifier">rules</span>, <span class="ruby-identifier">handler</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">binds</span> = <span class="ruby-identifier">extract_params</span>(<span class="ruby-identifier">rules</span>)

  <span class="ruby-identifier">prefix</span> = <span class="ruby-node">&quot;#{implied_xpath_context}/&quot;</span>

  <span class="ruby-identifier">rules</span> = <span class="ruby-identifier">rules</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rule</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">CSS</span>.<span class="ruby-identifier">xpath_for</span>(<span class="ruby-identifier">rule</span>, <span class="ruby-value">:prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">prefix</span>, <span class="ruby-value">:ns</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ns</span>)
  }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">handler</span>, <span class="ruby-identifier">binds</span>].<span class="ruby-identifier">compact</span>

  <span class="ruby-identifier">xpath</span>(*<span class="ruby-identifier">rules</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- css-source -->
            
          </div>

          

          
        </div><!-- css-method -->

      
        <div id="css_path-method" class="method-detail ">
          <a name="method-i-css_path"></a>

          
          <div class="method-heading">
            <span class="method-name">css_path</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the path to this node as a <a href="../CSS.html">CSS</a> expression</p>
            

            
            <div class="method-source-code" id="css_path-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 634</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">css_path</span>
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\//</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">part</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\[(\d+)\]/</span>, <span class="ruby-string">':nth-of-type(\1)'</span>)
  }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">' &gt; '</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- css_path-source -->
            
          </div>

          

          
        </div><!-- css_path-method -->

      
        <div id="decorate-21-method" class="method-detail ">
          <a name="method-i-decorate-21"></a>

          
          <div class="method-heading">
            <span class="method-name">decorate!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Decorate this node with the decorators set up in this node’s <a
href="Document.html">Document</a></p>
            

            
            <div class="method-source-code" id="decorate-21-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">decorate!</span>
  <span class="ruby-identifier">document</span>.<span class="ruby-identifier">decorate</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- decorate-21-source -->
            
          </div>

          

          
        </div><!-- decorate-21-method -->

      
        <div id="default_namespace-3D-method" class="method-detail ">
          <a name="method-i-default_namespace-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">default_namespace=</span><span
              class="method-args">(url)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Adds a default namespace supplied as a string <tt>url</tt> href, to self.
The consequence is as an xmlns attribute with supplied argument were
present in parsed <a href="../XML.html">XML</a>.  A default namespace set
with this method will now show up in <a
href="Node.html#method-i-attributes">attributes</a>, but when this node is
serialized to <a href="../XML.html">XML</a> an “xmlns” attribute will
appear. See also <a href="Node.html#method-i-namespace">namespace</a> and
<a href="Node.html#method-i-namespace-3D">namespace=</a></p>
            

            
            <div class="method-source-code" id="default_namespace-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 669</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_namespace=</span> <span class="ruby-identifier">url</span>
  <span class="ruby-identifier">add_namespace_definition</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">url</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- default_namespace-3D-source -->
            
          </div>

          

          
        </div><!-- default_namespace-3D-method -->

      
        <div id="delete-method" class="method-detail method-alias">
          <a name="method-i-delete"></a>

          
          <div class="method-heading">
            <span class="method-name">delete</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-remove_attribute">remove_attribute</a>
          </div>
          
        </div><!-- delete-method -->

      
        <div id="description-method" class="method-detail ">
          <a name="method-i-description"></a>

          
          <div class="method-heading">
            <span class="method-name">description</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Fetch the <a
href="../HTML/ElementDescription.html">Nokogiri::HTML::ElementDescription</a>
for this node.  Returns nil on <a href="../XML.html">XML</a> documents and
on unknown tags.</p>
            

            
            <div class="method-source-code" id="description-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 603</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">description</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">xml?</span>
  <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span><span class="ruby-operator">::</span><span class="ruby-constant">ElementDescription</span>[<span class="ruby-identifier">name</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- description-source -->
            
          </div>

          

          
        </div><!-- description-method -->

      
        <div id="document-method" class="method-detail ">
          <a name="method-i-document"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">document</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the document for this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="document-source">
<pre>
static VALUE document(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  return DOC_RUBY_OBJECT(node-&gt;doc);
}</pre>
            </div><!-- document-source -->
            
          </div>

          

          
        </div><!-- document-method -->

      
        <div id="dup-method" class="method-detail ">
          <a name="method-i-dup"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">dup</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Copy this node.  An optional depth may be passed in, but it defaults to a
deep copy.  0 is a shallow copy, 1 is a deep copy.</p>
            

            
            <div class="method-source-code" id="dup-source">
<pre>
static VALUE duplicate_node(int argc, VALUE *argv, VALUE self)
{
  VALUE level;
  xmlNodePtr node, dup;

  if(rb_scan_args(argc, argv, &quot;01&quot;, &amp;level) == 0)
    level = INT2NUM((long)1);

  Data_Get_Struct(self, xmlNode, node);

  dup = xmlDocCopyNode(node, node-&gt;doc, (int)NUM2INT(level));
  if(dup == NULL) return Qnil;

  NOKOGIRI_ROOT_NODE(dup);

  return Nokogiri_wrap_xml_node(rb_obj_class(self), dup);
}</pre>
            </div><!-- dup-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-clone">clone</a>
          </div>
          

          
        </div><!-- dup-method -->

      
        <div id="each-method" class="method-detail ">
          <a name="method-i-each"></a>

          
          <div class="method-heading">
            <span class="method-name">each</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Iterate over each attribute name and value pair for this <a
href="Node.html">Node</a>.</p>
            

            
            <div class="method-source-code" id="each-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 474</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span> &amp;<span class="ruby-identifier">block</span>
  <span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>([<span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_name</span>, <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span>])
  }
<span class="ruby-keyword">end</span></pre>
            </div><!-- each-source -->
            
          </div>

          

          
        </div><!-- each-method -->

      
        <div id="elem-3F-method" class="method-detail method-alias">
          <a name="method-i-elem-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">elem?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-element-3F">element?</a>
          </div>
          
        </div><!-- elem-3F-method -->

      
        <div id="element-3F-method" class="method-detail ">
          <a name="method-i-element-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">element?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is an <a href="Element.html">Element</a> node</p>
            

            
            <div class="method-source-code" id="element-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 616</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">element?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ELEMENT_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- element-3F-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-elem-3F">elem?</a>
          </div>
          

          
        </div><!-- element-3F-method -->

      
        <div id="element_children-method" class="method-detail ">
          <a name="method-i-element_children"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">element_children</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the list of children for this node as a <a
href="NodeSet.html">NodeSet</a>.  All nodes will be element nodes.</p>

<p>Example:</p>

<pre>@doc.root.element_children.all? { |x| x.element? } # =&gt; true</pre>
            

            
            <div class="method-source-code" id="element_children-source">
<pre>
static VALUE element_children(VALUE self)
{
  xmlNodePtr node;
  xmlNodePtr child;
  xmlNodeSetPtr set;
  VALUE document;
  VALUE node_set;

  Data_Get_Struct(self, xmlNode, node);

  child = xmlFirstElementChild(node);
  set = xmlXPathNodeSetCreate(child);

  document = DOC_RUBY_OBJECT(node-&gt;doc);

  if(!child) return Nokogiri_wrap_xml_node_set(set, document);

  child = xmlNextElementSibling(child);
  while(NULL != child) {
    xmlXPathNodeSetAddUnique(set, child);
    child = xmlNextElementSibling(child);
  }

  node_set = Nokogiri_wrap_xml_node_set(set, document);

  return node_set;
}</pre>
            </div><!-- element_children-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-elements">elements</a>
          </div>
          

          
        </div><!-- element_children-method -->

      
        <div id="elements-method" class="method-detail method-alias">
          <a name="method-i-elements"></a>

          
          <div class="method-heading">
            <span class="method-name">elements</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-element_children">element_children</a>
          </div>
          
        </div><!-- elements-method -->

      
        <div id="encode_special_chars-method" class="method-detail ">
          <a name="method-i-encode_special_chars"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">encode_special_chars(string)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Encode any special characters in <tt>string</tt></p>
            

            
            <div class="method-source-code" id="encode_special_chars-source">
<pre>
static VALUE encode_special_chars(VALUE self, VALUE string)
{
  xmlNodePtr node;
  xmlChar *encoded;
  VALUE encoded_str;

  Data_Get_Struct(self, xmlNode, node);
  encoded = xmlEncodeSpecialChars(
      node-&gt;doc,
      (const xmlChar *)StringValuePtr(string)
  );

  encoded_str = NOKOGIRI_STR_NEW2(encoded);
  xmlFree(encoded);

  return encoded_str;
}</pre>
            </div><!-- encode_special_chars-source -->
            
          </div>

          

          
        </div><!-- encode_special_chars-method -->

      
        <div id="external_subset-method" class="method-detail ">
          <a name="method-i-external_subset"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">external_subset</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the external subset</p>
            

            
            <div class="method-source-code" id="external_subset-source">
<pre>
static VALUE external_subset(VALUE self)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Data_Get_Struct(self, xmlNode, node);

  if(!node-&gt;doc) return Qnil;

  doc = node-&gt;doc;
  dtd = doc-&gt;extSubset;

  if(!dtd) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, (xmlNodePtr)dtd);
}</pre>
            </div><!-- external_subset-source -->
            
          </div>

          

          
        </div><!-- external_subset-method -->

      
        <div id="first_element_child-method" class="method-detail ">
          <a name="method-i-first_element_child"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">first_element_child</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the first child node of this node that is an element.</p>

<p>Example:</p>

<pre>@doc.root.first_element_child.element? # =&gt; true</pre>
            

            
            <div class="method-source-code" id="first_element_child-source">
<pre>
static VALUE first_element_child(VALUE self)
{
  xmlNodePtr node, child;
  Data_Get_Struct(self, xmlNode, node);

  child = xmlFirstElementChild(node);
  if(!child) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, child);
}</pre>
            </div><!-- first_element_child-source -->
            
          </div>

          

          
        </div><!-- first_element_child-method -->

      
        <div id="fragment-method" class="method-detail ">
          <a name="method-i-fragment"></a>

          
          <div class="method-heading">
            <span class="method-name">fragment</span><span
              class="method-args">(tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a <a href="DocumentFragment.html">DocumentFragment</a> containing
<tt>tags</tt> that is relative to <em>this</em> context node.</p>
            

            
            <div class="method-source-code" id="fragment-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 496</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fragment</span> <span class="ruby-identifier">tags</span>
  <span class="ruby-identifier">type</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">html?</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span>
  <span class="ruby-identifier">type</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentFragment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>, <span class="ruby-identifier">tags</span>, <span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- fragment-source -->
            
          </div>

          

          
        </div><!-- fragment-method -->

      
        <div id="fragment-3F-method" class="method-detail ">
          <a name="method-i-fragment-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">fragment?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is a <a
href="DocumentFragment.html">DocumentFragment</a></p>
            

            
            <div class="method-source-code" id="fragment-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 596</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fragment?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DOCUMENT_FRAG_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- fragment-3F-source -->
            
          </div>

          

          
        </div><!-- fragment-3F-method -->

      
        <div id="get_attribute-method" class="method-detail method-alias">
          <a name="method-i-get_attribute"></a>

          
          <div class="method-heading">
            <span class="method-name">get_attribute</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-5B-5D">[]</a>
          </div>
          
        </div><!-- get_attribute-method -->

      
        <div id="has_attribute-3F-method" class="method-detail method-alias">
          <a name="method-i-has_attribute-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_attribute?</span><span
              class="method-args">(p1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-key-3F">key?</a>
          </div>
          
        </div><!-- has_attribute-3F-method -->

      
        <div id="html-3F-method" class="method-detail ">
          <a name="method-i-html-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">html?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is an <a
href="../HTML/Document.html">HTML::Document</a> node</p>
            

            
            <div class="method-source-code" id="html-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 586</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTML_DOCUMENT_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html-3F-source -->
            
          </div>

          

          
        </div><!-- html-3F-method -->

      
        <div id="inner_html-method" class="method-detail ">
          <a name="method-i-inner_html"></a>

          
          <div class="method-heading">
            <span class="method-name">inner_html</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the <a href="Node.html#method-i-inner_html">inner_html</a> for this
node’s <a href="Node.html#method-i-children">Node#children</a></p>
            

            
            <div class="method-source-code" id="inner_html-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 629</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inner_html</span> *<span class="ruby-identifier">args</span>
  <span class="ruby-identifier">children</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_html</span>(*<span class="ruby-identifier">args</span>) }.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- inner_html-source -->
            
          </div>

          

          
        </div><!-- inner_html-method -->

      
        <div id="inner_html-3D-method" class="method-detail ">
          <a name="method-i-inner_html-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">inner_html=</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the inner html for this <a href="Node.html">Node</a> to
<tt>node_or_tags</tt> <tt>node_or_tags</tt> can be a <a
href="Node.html">Nokogiri::XML::Node</a>, a <a
href="DocumentFragment.html">Nokogiri::XML::DocumentFragment</a>, or a
string containing markup.</p>

<p>Returns self.</p>

<p>Also see related method <tt>children=</tt></p>
            

            
            <div class="method-source-code" id="inner_html-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inner_html=</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">children</span> = <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- inner_html-3D-source -->
            
          </div>

          

          
        </div><!-- inner_html-3D-method -->

      
        <div id="inner_text-method" class="method-detail method-alias">
          <a name="method-i-inner_text"></a>

          
          <div class="method-heading">
            <span class="method-name">inner_text</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-content">content</a>
          </div>
          
        </div><!-- inner_text-method -->

      
        <div id="internal_subset-method" class="method-detail ">
          <a name="method-i-internal_subset"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">internal_subset</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the internal subset</p>
            

            
            <div class="method-source-code" id="internal_subset-source">
<pre>
static VALUE internal_subset(VALUE self)
{
  xmlNodePtr node;
  xmlDocPtr doc;
  xmlDtdPtr dtd;

  Data_Get_Struct(self, xmlNode, node);

  if(!node-&gt;doc) return Qnil;

  doc = node-&gt;doc;
  dtd = xmlGetIntSubset(doc);

  if(!dtd) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, (xmlNodePtr)dtd);
}</pre>
            </div><!-- internal_subset-source -->
            
          </div>

          

          
        </div><!-- internal_subset-method -->

      
        <div id="key-3F-method" class="method-detail ">
          <a name="method-i-key-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">key?(attribute)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if <tt>attribute</tt> is set</p>
            

            
            <div class="method-source-code" id="key-3F-source">
<pre>
static VALUE key_eh(VALUE self, VALUE attribute)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  if(xmlHasProp(node, (xmlChar *)StringValuePtr(attribute)))
    return Qtrue;
  return Qfalse;
}</pre>
            </div><!-- key-3F-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-has_attribute-3F">has_attribute?</a>
          </div>
          

          
        </div><!-- key-3F-method -->

      
        <div id="keys-method" class="method-detail ">
          <a name="method-i-keys"></a>

          
          <div class="method-heading">
            <span class="method-name">keys</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the attribute names for this <a href="Node.html">Node</a>.</p>
            

            
            <div class="method-source-code" id="keys-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 468</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">keys</span>
  <span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_name</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- keys-source -->
            
          </div>

          

          
        </div><!-- keys-method -->

      
        <div id="last_element_child-method" class="method-detail ">
          <a name="method-i-last_element_child"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">last_element_child</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the last child node of this node that is an element.</p>

<p>Example:</p>

<pre>@doc.root.last_element_child.element? # =&gt; true</pre>
            

            
            <div class="method-source-code" id="last_element_child-source">
<pre>
static VALUE last_element_child(VALUE self)
{
  xmlNodePtr node, child;
  Data_Get_Struct(self, xmlNode, node);

  child = xmlLastElementChild(node);
  if(!child) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, child);
}</pre>
            </div><!-- last_element_child-source -->
            
          </div>

          

          
        </div><!-- last_element_child-method -->

      
        <div id="line-method" class="method-detail ">
          <a name="method-i-line"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">line</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the line for this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="line-source">
<pre>
static VALUE line(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  return INT2NUM(xmlGetLineNo(node));
}</pre>
            </div><!-- line-source -->
            
          </div>

          

          
        </div><!-- line-method -->

      
        <div id="matches-3F-method" class="method-detail ">
          <a name="method-i-matches-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">matches?</span><span
              class="method-args">(selector)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this <a href="Node.html">Node</a> matches <tt>selector</tt></p>
            

            
            <div class="method-source-code" id="matches-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">matches?</span> <span class="ruby-identifier">selector</span>
  <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">selector</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- matches-3F-source -->
            
          </div>

          

          
        </div><!-- matches-3F-method -->

      
        <div id="name-method" class="method-detail method-alias">
          <a name="method-i-name"></a>

          
          <div class="method-heading">
            <span class="method-name">name</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-node_name">node_name</a>
          </div>
          
        </div><!-- name-method -->

      
        <div id="name-3D-method" class="method-detail method-alias">
          <a name="method-i-name-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">name=</span><span
              class="method-args">(p1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-node_name-3D">node_name=</a>
          </div>
          
        </div><!-- name-3D-method -->

      
        <div id="namespace-method" class="method-detail ">
          <a name="method-i-namespace"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">namespace()</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>returns the default namespace set on this node (as with an “xmlns=”
attribute), as a <a href="Namespace.html">Namespace</a> object.</p>
            

            
            <div class="method-source-code" id="namespace-source">
<pre>
static VALUE namespace(VALUE self)
{
  xmlNodePtr node ;
  Data_Get_Struct(self, xmlNode, node);

  if (node-&gt;ns)
    return Nokogiri_wrap_xml_namespace(node-&gt;doc, node-&gt;ns);

  return Qnil ;
}</pre>
            </div><!-- namespace-source -->
            
          </div>

          

          
        </div><!-- namespace-method -->

      
        <div id="namespace-3D-method" class="method-detail ">
          <a name="method-i-namespace-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">namespace=</span><span
              class="method-args">(ns)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the default namespace on this node (as would be defined with an
“xmlns=” attribute in <a href="../XML.html">XML</a> source), as a <a
href="Namespace.html">Namespace</a> object <tt>ns</tt>. Note that a <a
href="Namespace.html">Namespace</a> added this way will NOT be serialized
as an xmlns attribute for this node. You probably want <a
href="Node.html#method-i-default_namespace-3D">default_namespace=</a>
instead, or perhaps <a
href="Node.html#method-i-add_namespace_definition">add_namespace_definition</a>
with a nil prefix argument.</p>
            

            
            <div class="method-source-code" id="namespace-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 680</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">namespace=</span> <span class="ruby-identifier">ns</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">set_namespace</span>(<span class="ruby-identifier">ns</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ns</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Namespace</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">ns</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;#{ns.class} can't be coerced into Nokogiri::XML::Namespace&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">document</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">document</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">'namespace must be declared on the same document'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">set_namespace</span> <span class="ruby-identifier">ns</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- namespace-3D-source -->
            
          </div>

          

          
        </div><!-- namespace-3D-method -->

      
        <div id="namespace_definitions-method" class="method-detail ">
          <a name="method-i-namespace_definitions"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">namespace_definitions()</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>returns namespaces defined on self element directly, as an array of <a
href="Namespace.html">Namespace</a> objects. Includes both a default
namespace (as in“xmlns=”), and prefixed namespaces (as in “xmlns:prefix=”).</p>
            

            
            <div class="method-source-code" id="namespace_definitions-source">
<pre>
static VALUE namespace_definitions(VALUE self)
{
  /* this code in the mode of xmlHasProp() */
  xmlNodePtr node ;
  VALUE list;
  xmlNsPtr ns;

  Data_Get_Struct(self, xmlNode, node);

  list = rb_ary_new();

  ns = node-&gt;nsDef;

  if(!ns) return list;

  while(NULL != ns) {
    rb_ary_push(list, Nokogiri_wrap_xml_namespace(node-&gt;doc, ns));
    ns = ns-&gt;next;
  }

  return list;
}</pre>
            </div><!-- namespace_definitions-source -->
            
          </div>

          

          
        </div><!-- namespace_definitions-method -->

      
        <div id="namespace_scopes-method" class="method-detail ">
          <a name="method-i-namespace_scopes"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">namespace_scopes()</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>returns namespaces in scope for self – those defined on self element
directly or any ancestor node – as an array of <a
href="Namespace.html">Namespace</a> objects.  Default namespaces (“xmlns=”
style) for self are included in this array; Default namespaces for 
ancestors, however, are not. See also <a
href="Node.html#method-i-namespaces">namespaces</a></p>
            

            
            <div class="method-source-code" id="namespace_scopes-source">
<pre>
static VALUE namespace_scopes(VALUE self)
{
  xmlNodePtr node ;
  VALUE list;
  xmlNsPtr *ns_list;
  int j;

  Data_Get_Struct(self, xmlNode, node);

  list = rb_ary_new();
  ns_list = xmlGetNsList(node-&gt;doc, node);

  if(!ns_list) return list;

  for (j = 0 ; ns_list[j] != NULL ; ++j) {
    rb_ary_push(list, Nokogiri_wrap_xml_namespace(node-&gt;doc, ns_list[j]));
  }

  xmlFree(ns_list);
  return list;
}</pre>
            </div><!-- namespace_scopes-source -->
            
          </div>

          

          
        </div><!-- namespace_scopes-method -->

      
        <div id="namespaced_key-3F-method" class="method-detail ">
          <a name="method-i-namespaced_key-3F"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">namespaced_key?(attribute, namespace)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns true if <tt>attribute</tt> is set with <tt>namespace</tt></p>
            

            
            <div class="method-source-code" id="namespaced_key-3F-source">
<pre>
static VALUE namespaced_key_eh(VALUE self, VALUE attribute, VALUE namespace)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  if(xmlHasNsProp(node, (xmlChar *)StringValuePtr(attribute),
        NIL_P(namespace) ? NULL : (xmlChar *)StringValuePtr(namespace)))
    return Qtrue;
  return Qfalse;
}</pre>
            </div><!-- namespaced_key-3F-source -->
            
          </div>

          

          
        </div><!-- namespaced_key-3F-method -->

      
        <div id="namespaces-method" class="method-detail ">
          <a name="method-i-namespaces"></a>

          
          <div class="method-heading">
            <span class="method-name">namespaces</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a Hash of {prefix =&gt; value} for all namespaces on this node and
its ancestors.</p>

<p>This method returns the same namespaces as <a
href="Node.html#method-i-namespace_scopes">namespace_scopes</a>.</p>

<p>Returns namespaces in scope for self – those defined on self element
directly or any ancestor node – as a Hash of attribute-name/value pairs.
Note that the keys in this hash <a href="../XML.html">XML</a> attributes
that would be used to define this namespace, such as “xmlns:prefix”, not
just the prefix. Default namespace set on self will be included with key
“xmlns”. However, default namespaces set on ancestor will NOT be, even if
self has no explicit default namespace.</p>
            

            
            <div class="method-source-code" id="namespaces-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 557</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">namespaces</span>
  <span class="ruby-constant">Hash</span>[*<span class="ruby-identifier">namespace_scopes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">nd</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">key</span> = [<span class="ruby-string">'xmlns'</span>, <span class="ruby-identifier">nd</span>.<span class="ruby-identifier">prefix</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">':'</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-string">'1.9'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">encoding</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">key</span>.<span class="ruby-identifier">force_encoding</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">encoding</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    [<span class="ruby-identifier">key</span>, <span class="ruby-identifier">nd</span>.<span class="ruby-identifier">href</span>]
  }.<span class="ruby-identifier">flatten</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- namespaces-source -->
            
          </div>

          

          
        </div><!-- namespaces-method -->

      
        <div id="next-method" class="method-detail method-alias">
          <a name="method-i-next"></a>

          
          <div class="method-heading">
            <span class="method-name">next</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-next_sibling">next_sibling</a>
          </div>
          
        </div><!-- next-method -->

      
        <div id="next_element-method" class="method-detail ">
          <a name="method-i-next_element"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next_element</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the next <a href="Element.html">Nokogiri::XML::Element</a> type
sibling node.</p>
            

            
            <div class="method-source-code" id="next_element-source">
<pre>
static VALUE next_element(VALUE self)
{
  xmlNodePtr node, sibling;
  Data_Get_Struct(self, xmlNode, node);

  sibling = xmlNextElementSibling(node);
  if(!sibling) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, sibling);
}</pre>
            </div><!-- next_element-source -->
            
          </div>

          

          
        </div><!-- next_element-method -->

      
        <div id="next_sibling-method" class="method-detail ">
          <a name="method-i-next_sibling"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">next_sibling</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the next sibling node</p>
            

            
            <div class="method-source-code" id="next_sibling-source">
<pre>
static VALUE next_sibling(VALUE self)
{
  xmlNodePtr node, sibling;
  Data_Get_Struct(self, xmlNode, node);

  sibling = node-&gt;next;
  if(!sibling) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, sibling) ;
}</pre>
            </div><!-- next_sibling-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-next">next</a>
          </div>
          

          
        </div><!-- next_sibling-method -->

      
        <div id="node_name-method" class="method-detail ">
          <a name="method-i-node_name"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">name</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the name for this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="node_name-source">
<pre>
static VALUE get_name(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  if(node-&gt;name)
    return NOKOGIRI_STR_NEW2(node-&gt;name);
  return Qnil;
}</pre>
            </div><!-- node_name-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-name">name</a>
          </div>
          

          
        </div><!-- node_name-method -->

      
        <div id="node_name-3D-method" class="method-detail ">
          <a name="method-i-node_name-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">name=(new_name)</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Set the name for this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="node_name-3D-source">
<pre>
static VALUE set_name(VALUE self, VALUE new_name)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  xmlNodeSetName(node, (xmlChar*)StringValuePtr(new_name));
  return new_name;
}</pre>
            </div><!-- node_name-3D-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-name-3D">name=</a>
          </div>
          

          
        </div><!-- node_name-3D-method -->

      
        <div id="node_type-method" class="method-detail ">
          <a name="method-i-node_type"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">node_type</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the type for this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="node_type-source">
<pre>
static VALUE node_type(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  return INT2NUM((long)node-&gt;type);
}</pre>
            </div><!-- node_type-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-type">type</a>
          </div>
          

          
        </div><!-- node_type-method -->

      
        <div id="parent-method" class="method-detail ">
          <a name="method-i-parent"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">parent</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the parent <a href="Node.html">Node</a> for this <a
href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="parent-source">
<pre>
static VALUE get_parent(VALUE self)
{
  xmlNodePtr node, parent;
  Data_Get_Struct(self, xmlNode, node);

  parent = node-&gt;parent;
  if(!parent) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, parent) ;
}</pre>
            </div><!-- parent-source -->
            
          </div>

          

          
        </div><!-- parent-method -->

      
        <div id="parent-3D-method" class="method-detail ">
          <a name="method-i-parent-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">parent=</span><span
              class="method-args">(parent_node)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the parent <a href="Node.html">Node</a> for this <a
href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="parent-3D-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 538</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parent=</span> <span class="ruby-identifier">parent_node</span>
  <span class="ruby-identifier">parent_node</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">parent_node</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- parent-3D-source -->
            
          </div>

          

          
        </div><!-- parent-3D-method -->

      
        <div id="parse-method" class="method-detail ">
          <a name="method-i-parse"></a>

          
          <div class="method-heading">
            <span class="method-name">parse</span><span
              class="method-args">(string_or_io, options = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Parse <tt>string_or_io</tt> as a document fragment within the context of
<b>this</b> node.  Returns a <a href="NodeSet.html">XML::NodeSet</a>
containing the nodes parsed from <tt>string_or_io</tt>.</p>
            

            
            <div class="method-source-code" id="parse-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 505</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse</span> <span class="ruby-identifier">string_or_io</span>, <span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> (<span class="ruby-identifier">document</span>.<span class="ruby-identifier">html?</span> <span class="ruby-operator">?</span> <span class="ruby-constant">ParseOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_HTML</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ParseOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XML</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Fixnum</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">ParseOptions</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># Give the options to the user</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">options</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">string_or_io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:read</span>) <span class="ruby-operator">?</span>
    <span class="ruby-identifier">string_or_io</span>.<span class="ruby-identifier">read</span> <span class="ruby-operator">:</span>
    <span class="ruby-identifier">string_or_io</span>

  <span class="ruby-keyword">return</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-comment">##</span>
  <span class="ruby-comment"># This is a horrible hack, but I don't care. See #313 for background.</span>
  <span class="ruby-identifier">error_count</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">length</span>
  <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">in_context</span>(<span class="ruby-identifier">contents</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">to_i</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error_count</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">recover?</span>
    <span class="ruby-identifier">fragment</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentFragment</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">contents</span>
    <span class="ruby-identifier">node_set</span> = <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">children</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node_set</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- parse-source -->
            
          </div>

          

          
        </div><!-- parse-method -->

      
        <div id="path-method" class="method-detail ">
          <a name="method-i-path"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">path</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the path associated with this <a href="Node.html">Node</a></p>
            

            
            <div class="method-source-code" id="path-source">
<pre>
static VALUE path(VALUE self)
{
  xmlNodePtr node;
  xmlChar *path ;
  VALUE rval;

  Data_Get_Struct(self, xmlNode, node);

  path = xmlGetNodePath(node);
  rval = NOKOGIRI_STR_NEW2(path);
  xmlFree(path);
  return rval ;
}</pre>
            </div><!-- path-source -->
            
          </div>

          

          
        </div><!-- path-method -->

      
        <div id="pointer_id-method" class="method-detail ">
          <a name="method-i-pointer_id"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">pointer_id</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Get the internal pointer number</p>
            

            
            <div class="method-source-code" id="pointer_id-source">
<pre>
static VALUE pointer_id(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);

  return INT2NUM((long)(node));
}</pre>
            </div><!-- pointer_id-source -->
            
          </div>

          

          
        </div><!-- pointer_id-method -->

      
        <div id="previous-method" class="method-detail method-alias">
          <a name="method-i-previous"></a>

          
          <div class="method-heading">
            <span class="method-name">previous</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-previous_sibling">previous_sibling</a>
          </div>
          
        </div><!-- previous-method -->

      
        <div id="previous-3D-method" class="method-detail method-alias">
          <a name="method-i-previous-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">previous=</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-add_previous_sibling">add_previous_sibling</a>
          </div>
          
        </div><!-- previous-3D-method -->

      
        <div id="previous_element-method" class="method-detail ">
          <a name="method-i-previous_element"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">previous_element</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the previous <a href="Element.html">Nokogiri::XML::Element</a> type
sibling node.</p>
            

            
            <div class="method-source-code" id="previous_element-source">
<pre>
static VALUE previous_element(VALUE self)
{
  xmlNodePtr node, sibling;
  Data_Get_Struct(self, xmlNode, node);

  /*
   *  note that we don't use xmlPreviousElementSibling here because it's buggy pre-2.7.7.
   */
  sibling = node-&gt;prev;
  if(!sibling) return Qnil;

  while(sibling &amp;&amp; sibling-&gt;type != XML_ELEMENT_NODE)
    sibling = sibling-&gt;prev;

  return sibling ? Nokogiri_wrap_xml_node(Qnil, sibling) : Qnil ;
}</pre>
            </div><!-- previous_element-source -->
            
          </div>

          

          
        </div><!-- previous_element-method -->

      
        <div id="previous_sibling-method" class="method-detail ">
          <a name="method-i-previous_sibling"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">previous_sibling</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Returns the previous sibling node</p>
            

            
            <div class="method-source-code" id="previous_sibling-source">
<pre>
static VALUE previous_sibling(VALUE self)
{
  xmlNodePtr node, sibling;
  Data_Get_Struct(self, xmlNode, node);

  sibling = node-&gt;prev;
  if(!sibling) return Qnil;

  return Nokogiri_wrap_xml_node(Qnil, sibling);
}</pre>
            </div><!-- previous_sibling-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-previous">previous</a>
          </div>
          

          
        </div><!-- previous_sibling-method -->

      
        <div id="read_only-3F-method" class="method-detail ">
          <a name="method-i-read_only-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">read_only?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Is this a read only node?</p>
            

            
            <div class="method-source-code" id="read_only-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 610</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_only?</span>
  <span class="ruby-comment"># According to gdome2, these are read-only node types</span>
  [<span class="ruby-constant">NOTATION_NODE</span>, <span class="ruby-constant">ENTITY_NODE</span>, <span class="ruby-constant">ENTITY_DECL</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- read_only-3F-source -->
            
          </div>

          

          
        </div><!-- read_only-3F-method -->

      
        <div id="remove-method" class="method-detail method-alias">
          <a name="method-i-remove"></a>

          
          <div class="method-heading">
            <span class="method-name">remove</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-unlink">unlink</a>
          </div>
          
        </div><!-- remove-method -->

      
        <div id="remove_attribute-method" class="method-detail ">
          <a name="method-i-remove_attribute"></a>

          
          <div class="method-heading">
            <span class="method-name">remove_attribute</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Remove the attribute named <tt>name</tt></p>
            

            
            <div class="method-source-code" id="remove_attribute-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 482</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_attribute</span> <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">name</span>].<span class="ruby-identifier">remove</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">key?</span> <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- remove_attribute-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-delete">delete</a>
          </div>
          

          
        </div><!-- remove_attribute-method -->

      
        <div id="replace-method" class="method-detail ">
          <a name="method-i-replace"></a>

          
          <div class="method-heading">
            <span class="method-name">replace</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Replace this <a href="Node.html">Node</a> with <tt>node_or_tags</tt>.
<tt>node_or_tags</tt> can be a <a href="Node.html">Nokogiri::XML::Node</a>,
a ::DocumentFragment, a ::NodeSet, or a string containing markup.</p>

<p>Returns the reparented node (if <tt>node_or_tags</tt> is a <a
href="Node.html">Node</a>), or <a href="NodeSet.html">NodeSet</a> (if
<tt>node_or_tags</tt> is a <a
href="DocumentFragment.html">DocumentFragment</a>, <a
href="NodeSet.html">NodeSet</a>, or string).</p>

<p>Also see related method <tt>swap</tt>.</p>
            

            
            <div class="method-source-code" id="replace-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 395</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">node_or_tags</span> = <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">node_or_tags</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">NodeSet</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">text?</span>
      <span class="ruby-identifier">replacee</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">'dummy'</span>, <span class="ruby-identifier">document</span>
      <span class="ruby-identifier">add_previous_sibling_node</span> <span class="ruby-identifier">replacee</span>
      <span class="ruby-identifier">unlink</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">replacee</span> = <span class="ruby-keyword">self</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">node_or_tags</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">replacee</span>.<span class="ruby-identifier">add_previous_sibling</span> <span class="ruby-identifier">n</span> }
    <span class="ruby-identifier">replacee</span>.<span class="ruby-identifier">unlink</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">replace_node</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">node_or_tags</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- replace-source -->
            
          </div>

          

          
        </div><!-- replace-method -->

      
        <div id="search-method" class="method-detail ">
          <a name="method-i-search"></a>

          
          <div class="method-heading">
            <span class="method-name">search</span><span
              class="method-args">(*paths)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Search this node for <tt>paths</tt>.  <tt>paths</tt> can be <a
href="XPath.html">XPath</a> or <a href="../CSS.html">CSS</a>, and an
optional hash of namespaces may be appended. See <a
href="Node.html#method-i-xpath">Node#xpath</a> and <a
href="Node.html#method-i-css">Node#css</a>.</p>
            

            
            <div class="method-source-code" id="search-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">search</span> *<span class="ruby-identifier">paths</span>
  <span class="ruby-comment"># TODO use         paths, handler, ns, binds = extract_params(paths)</span>
  <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span>
    (<span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-operator">:</span> {})

  <span class="ruby-identifier">prefix</span> = <span class="ruby-node">&quot;#{implied_xpath_context}/&quot;</span>

  <span class="ruby-identifier">xpath</span>(*(<span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(\.\/|\/|\.\.)/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">:</span> <span class="ruby-constant">CSS</span>.<span class="ruby-identifier">xpath_for</span>(
      <span class="ruby-identifier">path</span>,
      <span class="ruby-value">:prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">prefix</span>,
      <span class="ruby-value">:ns</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ns</span>
    )
  }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>) <span class="ruby-operator">+</span> [<span class="ruby-identifier">ns</span>])
<span class="ruby-keyword">end</span></pre>
            </div><!-- search-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-2F">/</a>
          </div>
          

          
        </div><!-- search-method -->

      
        <div id="serialize-method" class="method-detail ">
          <a name="method-i-serialize"></a>

          
          <div class="method-heading">
            <span class="method-name">serialize</span><span
              class="method-args">(*args, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Serialize <a href="Node.html">Node</a> using <tt>options</tt>.  Save
options can also be set using a block. See <a
href="Node/SaveOptions.html">SaveOptions</a>.</p>

<p>These two statements are equivalent:</p>

<pre>node.serialize(:encoding =&gt; 'UTF-8', :save_with =&gt; FORMAT | AS_XML)</pre>

<p>or</p>

<pre>node.serialize(:encoding =&gt; 'UTF-8') do |config|
  config.format.as_xml
end</pre>
            

            
            <div class="method-source-code" id="serialize-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 728</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">serialize</span> *<span class="ruby-identifier">args</span>, &amp;<span class="ruby-identifier">block</span>
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">:</span> {
    <span class="ruby-value">:encoding</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>],
    <span class="ruby-value">:save_with</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>]
  }

  <span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">encoding</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>] = <span class="ruby-identifier">encoding</span>

  <span class="ruby-identifier">outstring</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">encoding</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">outstring</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:force_encoding</span>)
    <span class="ruby-identifier">outstring</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">encoding</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">outstring</span>)
  <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">block</span>
  <span class="ruby-identifier">io</span>.<span class="ruby-identifier">string</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- serialize-source -->
            
          </div>

          

          
        </div><!-- serialize-method -->

      
        <div id="set_attribute-method" class="method-detail method-alias">
          <a name="method-i-set_attribute"></a>

          
          <div class="method-heading">
            <span class="method-name">set_attribute</span><span
              class="method-args">(p1, p2)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-5B-5D-3D">[]=</a>
          </div>
          
        </div><!-- set_attribute-method -->

      
        <div id="swap-method" class="method-detail ">
          <a name="method-i-swap"></a>

          
          <div class="method-heading">
            <span class="method-name">swap</span><span
              class="method-args">(node_or_tags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Swap this <a href="Node.html">Node</a> for <tt>node_or_tags</tt>
<tt>node_or_tags</tt> can be a <a href="Node.html">Nokogiri::XML::Node</a>,
a ::DocumentFragment, a ::NodeSet, or a string containing markup.</p>

<p>Returns self, to support chaining of calls.</p>

<p>Also see related method <tt>replace</tt>.</p>
            

            
            <div class="method-source-code" id="swap-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 420</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">swap</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-identifier">replace</span> <span class="ruby-identifier">node_or_tags</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- swap-source -->
            
          </div>

          

          
        </div><!-- swap-method -->

      
        <div id="text-method" class="method-detail method-alias">
          <a name="method-i-text"></a>

          
          <div class="method-heading">
            <span class="method-name">text</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-to_str">to_str</a>
          </div>
          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-content">content</a>
          </div>
          
        </div><!-- text-method -->

      
        <div id="text-3F-method" class="method-detail ">
          <a name="method-i-text-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">text?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is a <a href="Text.html">Text</a> node</p>
            

            
            <div class="method-source-code" id="text-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 591</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">text?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">TEXT_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- text-3F-source -->
            
          </div>

          

          
        </div><!-- text-3F-method -->

      
        <div id="to_html-method" class="method-detail ">
          <a name="method-i-to_html"></a>

          
          <div class="method-heading">
            <span class="method-name">to_html</span><span
              class="method-args">(options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Serialize this <a href="Node.html">Node</a> to <a
href="../HTML.html">HTML</a></p>

<pre>doc.to_html</pre>

<p>See <a href="Node.html#method-i-write_to">Node#write_to</a> for a list of
<tt>options</tt>.  For formatted output, use <a
href="Node.html#method-i-to_xhtml">Node#to_xhtml</a> instead.</p>
            

            
            <div class="method-source-code" id="to_html-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 753</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_html</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-comment"># FIXME: this is a hack around broken libxml versions</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">dump_html</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">uses_libxml?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">]2 6]</span> <span class="ruby-operator">===</span> <span class="ruby-constant">LIBXML_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'.'</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]

  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">|=</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_HTML</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] = <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_HTML</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>]
  <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_html-source -->
            
          </div>

          

          
        </div><!-- to_html-method -->

      
        <div id="to_s-method" class="method-detail ">
          <a name="method-i-to_s"></a>

          
          <div class="method-heading">
            <span class="method-name">to_s</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Turn this node in to a string.  If the document is <a
href="../HTML.html">HTML</a>, this method returns html.  If the document is
<a href="../XML.html">XML</a>, this method returns <a
href="../XML.html">XML</a>.</p>
            

            
            <div class="method-source-code" id="to_s-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 624</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">document</span>.<span class="ruby-identifier">xml?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">to_xml</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">to_html</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->

      
        <div id="to_str-method" class="method-detail method-alias">
          <a name="method-i-to_str"></a>

          
          <div class="method-heading">
            <span class="method-name">to_str</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-text">text</a>
          </div>
          
        </div><!-- to_str-method -->

      
        <div id="to_xhtml-method" class="method-detail ">
          <a name="method-i-to_xhtml"></a>

          
          <div class="method-heading">
            <span class="method-name">to_xhtml</span><span
              class="method-args">(options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Serialize this <a href="Node.html">Node</a> to XHTML using <tt>options</tt></p>

<pre>doc.to_xhtml(:indent =&gt; 5, :encoding =&gt; 'UTF-8')</pre>

<p>See <a href="Node.html#method-i-write_to">Node#write_to</a> for a list of
<tt>options</tt></p>
            

            
            <div class="method-source-code" id="to_xhtml-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 780</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_xhtml</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-comment"># FIXME: this is a hack around broken libxml versions</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">dump_html</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">uses_libxml?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">]2 6]</span> <span class="ruby-operator">===</span> <span class="ruby-constant">LIBXML_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'.'</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]

  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">|=</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XHTML</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] = <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XHTML</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>]
  <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_xhtml-source -->
            
          </div>

          

          
        </div><!-- to_xhtml-method -->

      
        <div id="to_xml-method" class="method-detail ">
          <a name="method-i-to_xml"></a>

          
          <div class="method-heading">
            <span class="method-name">to_xml</span><span
              class="method-args">(options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Serialize this <a href="Node.html">Node</a> to <a
href="../XML.html">XML</a> using <tt>options</tt></p>

<pre>doc.to_xml(:indent =&gt; 5, :encoding =&gt; 'UTF-8')</pre>

<p>See <a href="Node.html#method-i-write_to">Node#write_to</a> for a list of
<tt>options</tt></p>
            

            
            <div class="method-source-code" id="to_xml-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 768</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_xml</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">|=</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XML</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] = <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XML</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>]
  <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_xml-source -->
            
          </div>

          

          
        </div><!-- to_xml-method -->

      
        <div id="traverse-method" class="method-detail ">
          <a name="method-i-traverse"></a>

          
          <div class="method-heading">
            <span class="method-name">traverse</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Yields self and all children to <tt>block</tt> recursively.</p>
            

            
            <div class="method-source-code" id="traverse-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 695</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">traverse</span> &amp;<span class="ruby-identifier">block</span>
  <span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">traverse</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- traverse-source -->
            
          </div>

          

          
        </div><!-- traverse-method -->

      
        <div id="type-method" class="method-detail method-alias">
          <a name="method-i-type"></a>

          
          <div class="method-heading">
            <span class="method-name">type</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Node.html#method-i-node_type">node_type</a>
          </div>
          
        </div><!-- type-method -->

      
        <div id="unlink-method" class="method-detail ">
          <a name="method-i-unlink"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">unlink</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Unlink this node from its current context.</p>
            

            
            <div class="method-source-code" id="unlink-source">
<pre>
static VALUE unlink_node(VALUE self)
{
  xmlNodePtr node;
  Data_Get_Struct(self, xmlNode, node);
  xmlUnlinkNode(node);
  NOKOGIRI_ROOT_NODE(node);
  return self;
}</pre>
            </div><!-- unlink-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Node.html#method-i-remove">remove</a>
          </div>
          

          
        </div><!-- unlink-method -->

      
        <div id="values-method" class="method-detail ">
          <a name="method-i-values"></a>

          
          <div class="method-heading">
            <span class="method-name">values</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the attribute values for this <a href="Node.html">Node</a>.</p>
            

            
            <div class="method-source-code" id="values-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 462</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">values</span>
  <span class="ruby-identifier">attribute_nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">value</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- values-source -->
            
          </div>

          

          
        </div><!-- values-method -->

      
        <div id="write_html_to-method" class="method-detail ">
          <a name="method-i-write_html_to"></a>

          
          <div class="method-heading">
            <span class="method-name">write_html_to</span><span
              class="method-args">(io, options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Write <a href="Node.html">Node</a> as <a href="../HTML.html">HTML</a> to
<tt>io</tt> with <tt>options</tt></p>

<p>See <a href="Node.html#method-i-write_to">Node#write_to</a> for a list of
<tt>options</tt></p>
            

            
            <div class="method-source-code" id="write_html_to-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 828</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_html_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-comment"># FIXME: this is a hack around broken libxml versions</span>
  <span class="ruby-keyword">return</span> (<span class="ruby-identifier">io</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dump_html</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">uses_libxml?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">]2 6]</span> <span class="ruby-operator">===</span> <span class="ruby-constant">LIBXML_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'.'</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]

  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_HTML</span>
  <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- write_html_to-source -->
            
          </div>

          

          
        </div><!-- write_html_to-method -->

      
        <div id="write_to-method" class="method-detail ">
          <a name="method-i-write_to"></a>

          
          <div class="method-heading">
            <span class="method-name">write_to</span><span
              class="method-args">(io, *options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Write <a href="Node.html">Node</a> to <tt>io</tt> with <tt>options</tt>.
<tt>options</tt> modify the output of this method.  Valid options are:</p>
<ul><li>
<p><tt>:encoding</tt> for changing the encoding</p>
</li><li>
<p><tt>:indent_text</tt> the indentation text, defaults to one space</p>
</li><li>
<p><tt>:indent</tt> the number of <tt>:indent_text</tt> to use, defaults to 2</p>
</li><li>
<p><tt>:save_with</tt> a combination of <a
href="Node/SaveOptions.html">SaveOptions</a> constants.</p>
</li></ul>

<p>To save with UTF-8 indented twice:</p>

<pre>node.write_to(io, :encoding =&gt; 'UTF-8', :indent =&gt; 2)</pre>

<p>To save indented with two dashes:</p>

<pre>node.write_to(io, :indent_text =&gt; '-', :indent =&gt; 2</pre>
            

            
            <div class="method-source-code" id="write_to-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 806</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, *<span class="ruby-identifier">options</span>
  <span class="ruby-identifier">options</span>       = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">encoding</span>      = <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">jruby?</span>
    <span class="ruby-identifier">save_options</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">1</span>]
    <span class="ruby-identifier">indent_times</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">save_options</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">FORMAT</span>
    <span class="ruby-identifier">indent_times</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent</span>] <span class="ruby-operator">||</span> <span class="ruby-value">2</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">indent_text</span>   = <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent_text</span>] <span class="ruby-operator">||</span> <span class="ruby-string">' '</span>

  <span class="ruby-identifier">config</span> = <span class="ruby-constant">SaveOptions</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">save_options</span>.<span class="ruby-identifier">to_i</span>)
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">config</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-identifier">native_write_to</span>(<span class="ruby-identifier">io</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">indent_text</span> * <span class="ruby-identifier">indent_times</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- write_to-source -->
            
          </div>

          

          
        </div><!-- write_to-method -->

      
        <div id="write_xhtml_to-method" class="method-detail ">
          <a name="method-i-write_xhtml_to"></a>

          
          <div class="method-heading">
            <span class="method-name">write_xhtml_to</span><span
              class="method-args">(io, options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Write <a href="Node.html">Node</a> as XHTML to <tt>io</tt> with
<tt>options</tt></p>

<p>See <a href="Node.html#method-i-write_to">Node#write_to</a> for a list of
<tt>options</tt></p>
            

            
            <div class="method-source-code" id="write_xhtml_to-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 840</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_xhtml_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-comment"># FIXME: this is a hack around broken libxml versions</span>
  <span class="ruby-keyword">return</span> (<span class="ruby-identifier">io</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dump_html</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">uses_libxml?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">]2 6]</span> <span class="ruby-operator">===</span> <span class="ruby-constant">LIBXML_VERSION</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'.'</span>)[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]

  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XHTML</span>
  <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- write_xhtml_to-source -->
            
          </div>

          

          
        </div><!-- write_xhtml_to-method -->

      
        <div id="write_xml_to-method" class="method-detail ">
          <a name="method-i-write_xml_to"></a>

          
          <div class="method-heading">
            <span class="method-name">write_xml_to</span><span
              class="method-args">(io, options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Write <a href="Node.html">Node</a> as <a href="../XML.html">XML</a> to
<tt>io</tt> with <tt>options</tt></p>

<pre>doc.write_xml_to io, :encoding =&gt; 'UTF-8'</pre>

<p>See <a href="Node.html#method-i-write_to">Node#write_to</a> for a list of
options</p>
            

            
            <div class="method-source-code" id="write_xml_to-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 854</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_xml_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:save_with</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">SaveOptions</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_XML</span>
  <span class="ruby-identifier">write_to</span> <span class="ruby-identifier">io</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- write_xml_to-source -->
            
          </div>

          

          
        </div><!-- write_xml_to-method -->

      
        <div id="xml-3F-method" class="method-detail ">
          <a name="method-i-xml-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">xml?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if this is an <a href="Document.html">XML::Document</a> node</p>
            

            
            <div class="method-source-code" id="xml-3F-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xml?</span>
  <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DOCUMENT_NODE</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- xml-3F-source -->
            
          </div>

          

          
        </div><!-- xml-3F-method -->

      
        <div id="xpath-method" class="method-detail ">
          <a name="method-i-xpath"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class]</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          

          <div class="method-description">
            
            <p>Search this node for <a href="XPath.html">XPath</a> <tt>paths</tt>.
<tt>paths</tt> must be one or more <a href="XPath.html">XPath</a> queries.</p>

<pre>node.xpath('.//title')</pre>

<p>A hash of namespace bindings may be appended. For example:</p>

<pre>node.xpath('.//foo:name', {'foo' =&gt; 'http://example.org/'})
node.xpath('.//xmlns:name', node.root.namespaces)</pre>

<p>A hash of variable bindings may also be appended to the namespace bindings.
For example:</p>

<pre>node.xpath('.//address[@domestic=$value]', nil, {:value =&gt; 'Yes'})</pre>

<p>Custom <a href="XPath.html">XPath</a> functions may also be defined.  To
define custom functions create a class and implement the function you want
to define.  The first argument to the method will be the current matching
<a href="NodeSet.html">NodeSet</a>.  Any other arguments are ones that you
pass in.  Note that this class may appear anywhere in the argument list. 
For example:</p>

<pre>node.xpath('.//title[regex(., &quot;\w+&quot;)]', Class.new {
  def regex node_set, regex
    node_set.find_all { |node| node['some_attribute'] =~ /#{regex}/ }
  end
}.new)</pre>
            

            
            <div class="method-source-code" id="xpath-source">
<pre>
<span class="ruby-comment"># File lib/nokogiri/xml/node.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xpath</span> *<span class="ruby-identifier">paths</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">document</span>

  <span class="ruby-identifier">paths</span>, <span class="ruby-identifier">handler</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">binds</span> = <span class="ruby-identifier">extract_params</span>(<span class="ruby-identifier">paths</span>)

  <span class="ruby-identifier">sets</span> = <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">ctx</span> = <span class="ruby-constant">XPathContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_namespaces</span>(<span class="ruby-identifier">ns</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\/xmlns:/</span>,<span class="ruby-string">'/:'</span>) <span class="ruby-keyword">unless</span> <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">uses_libxml?</span>

    <span class="ruby-identifier">binds</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>,<span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">register_variable</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">binds</span>

    <span class="ruby-identifier">ctx</span>.<span class="ruby-identifier">evaluate</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">handler</span>)
  }
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">sets</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sets</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>

  <span class="ruby-constant">NodeSet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">combined</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">sets</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">set</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">combined</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- xpath-source -->
            
          </div>

          

          
        </div><!-- xpath-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

