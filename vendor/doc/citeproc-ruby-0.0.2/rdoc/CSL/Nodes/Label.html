<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: CSL::Nodes::Label</title>

  <link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

  <script src="../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../lib/csl/nodes_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/csl/nodes.rb">lib/csl/nodes.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Node.html">CSL::Nodes::Node</a></p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-plural-3F">#plural?</a></li>
          
          <li><a href="#method-i-process">#process</a></li>
          
          <li><a href="#method-i-process_names">#process_names</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../CSL.html">CSL</a></li>
        
          <li><a href="../../CSL/Bibliography.html">CSL::Bibliography</a></li>
        
          <li><a href="../../CSL/Citation.html">CSL::Citation</a></li>
        
          <li><a href="../../CSL/Key.html">CSL::Key</a></li>
        
          <li><a href="../../CSL/Locale.html">CSL::Locale</a></li>
        
          <li><a href="../../CSL/Node.html">CSL::Node</a></li>
        
          <li><a href="../../CSL/Nodes.html">CSL::Nodes</a></li>
        
          <li><a href="../../CSL/Nodes/Choose.html">CSL::Nodes::Choose</a></li>
        
          <li><a href="../../CSL/Nodes/ConditionalBlock.html">CSL::Nodes::ConditionalBlock</a></li>
        
          <li><a href="../../CSL/Nodes/Date.html">CSL::Nodes::Date</a></li>
        
          <li><a href="../../CSL/Nodes/DatePart.html">CSL::Nodes::DatePart</a></li>
        
          <li><a href="../../CSL/Nodes/EtAl.html">CSL::Nodes::EtAl</a></li>
        
          <li><a href="../../CSL/Nodes/Group.html">CSL::Nodes::Group</a></li>
        
          <li><a href="../../CSL/Nodes/Label.html">CSL::Nodes::Label</a></li>
        
          <li><a href="../../CSL/Nodes/Layout.html">CSL::Nodes::Layout</a></li>
        
          <li><a href="../../CSL/Nodes/Macro.html">CSL::Nodes::Macro</a></li>
        
          <li><a href="../../CSL/Nodes/Name.html">CSL::Nodes::Name</a></li>
        
          <li><a href="../../CSL/Nodes/NamePart.html">CSL::Nodes::NamePart</a></li>
        
          <li><a href="../../CSL/Nodes/Names.html">CSL::Nodes::Names</a></li>
        
          <li><a href="../../CSL/Nodes/Node.html">CSL::Nodes::Node</a></li>
        
          <li><a href="../../CSL/Nodes/Number.html">CSL::Nodes::Number</a></li>
        
          <li><a href="../../CSL/Nodes/Substitute.html">CSL::Nodes::Substitute</a></li>
        
          <li><a href="../../CSL/Nodes/Text.html">CSL::Nodes::Text</a></li>
        
          <li><a href="../../CSL/Renderer.html">CSL::Renderer</a></li>
        
          <li><a href="../../CSL/Sort.html">CSL::Sort</a></li>
        
          <li><a href="../../CSL/Style.html">CSL::Style</a></li>
        
          <li><a href="../../CSL/Term.html">CSL::Term</a></li>
        
          <li><a href="../../CiteProc.html">CiteProc</a></li>
        
          <li><a href="../../CiteProc/Bibliography.html">CiteProc::Bibliography</a></li>
        
          <li><a href="../../CiteProc/CitationData.html">CiteProc::CitationData</a></li>
        
          <li><a href="../../CiteProc/Date.html">CiteProc::Date</a></li>
        
          <li><a href="../../CiteProc/Format.html">CiteProc::Format</a></li>
        
          <li><a href="../../CiteProc/Format/Default.html">CiteProc::Format::Default</a></li>
        
          <li><a href="../../CiteProc/Format/Html.html">CiteProc::Format::Html</a></li>
        
          <li><a href="../../CiteProc/Formatter.html">CiteProc::Formatter</a></li>
        
          <li><a href="../../CiteProc/Item.html">CiteProc::Item</a></li>
        
          <li><a href="../../CiteProc/Name.html">CiteProc::Name</a></li>
        
          <li><a href="../../CiteProc/Processor.html">CiteProc::Processor</a></li>
        
          <li><a href="../../CiteProc/Selector.html">CiteProc::Selector</a></li>
        
          <li><a href="../../CiteProc/Variable.html">CiteProc::Variable</a></li>
        
          <li><a href="../../Support.html">Support</a></li>
        
          <li><a href="../../Support/Attributes.html">Support::Attributes</a></li>
        
          <li><a href="../../Support/Attributes/ClassMethods.html">Support::Attributes::ClassMethods</a></li>
        
          <li><a href="../../Support/Tree.html">Support::Tree</a></li>
        
          <li><a href="../../Support/Tree/ClassMethods.html">Support::Tree::ClassMethods</a></li>
        
          <li><a href="../../Extensions.html">Extensions</a></li>
        
          <li><a href="../../Extensions/Core.html">Extensions::Core</a></li>
        
          <li><a href="../../Extensions/Core/Numbers.html">Extensions::Core::Numbers</a></li>
        
          <li><a href="../../Fixnum.html">Fixnum</a></li>
        
          <li><a href="../../Kernel.html">Kernel</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">CSL::Nodes::Label</h1>

    <div id="description" class="description">
      
<p>The cs:label element, used to output text terms whose pluralization depends
on the contents of another variable (e.g. “(editors)” in “Doe and Smith
(editors)”), is discussed in detail in the label section. It should be
included after the cs:name and cs:et-al elements, but before the
cs:substitute element. When used within cs:names, the variable attribute
should be omitted, as the value set on the parent cs:names element is used.</p>

<p>The <a href="../Citation.html">Citation</a> <a
href="../Style.html">Style</a> Language includes several variables that
have matching terms. The cs:label element can be used to render one of
these terms, while matching the term plurality with that of the
corresponding variable. The variable/term combination is selected with the
variable attribute, which can be set to either “page” or “locator”. When
cs:label is used as a child element of cs:names, the value of the variable
attribute is automatically inherited from the parent cs:names element. The
example below displays the “page” variable, using the singular form of the
“page” term for a single page (“page 5”), or the plural form for a page
range (“pages 5-7”).</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="plural-3F-method" class="method-detail ">
          <a name="method-i-plural-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">plural?</span><span
              class="method-args">(data, number)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="plural-3F-source">
<pre>
<span class="ruby-comment"># File lib/csl/nodes.rb, line 946</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">plural?</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">number</span>)
  <span class="ruby-keyword">case</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">plural</span> <span class="ruby-operator">==</span> <span class="ruby-string">'always'</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">plural</span> <span class="ruby-operator">==</span> <span class="ruby-string">'never'</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">number</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">when</span> [<span class="ruby-string">'locator'</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">variable</span>)
    <span class="ruby-identifier">data</span>[<span class="ruby-identifier">variable</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/\d+f|\d+\-\d+/</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- plural-3F-source -->
            
          </div>

          

          
        </div><!-- plural-3F-method -->

      
        <div id="process-method" class="method-detail ">
          <a name="method-i-process"></a>

          
          <div class="method-heading">
            <span class="method-name">process</span><span
              class="method-args">(data, processor)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="process-source">
<pre>
<span class="ruby-comment"># File lib/csl/nodes.rb, line 931</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">processor</span>)
  <span class="ruby-identifier">localized_terms</span>(<span class="ruby-identifier">data</span>[<span class="ruby-string">'label'</span>].<span class="ruby-identifier">to_s</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-string">'plural'</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-identifier">plural?</span>(<span class="ruby-identifier">data</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">to_s</span> }))
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">handle_processing_error</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">processor</span>)        
<span class="ruby-keyword">end</span></pre>
            </div><!-- process-source -->
            
          </div>

          

          
        </div><!-- process-method -->

      
        <div id="process_names-method" class="method-detail ">
          <a name="method-i-process_names"></a>

          
          <div class="method-heading">
            <span class="method-name">process_names</span><span
              class="method-args">(role, number, processor)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="process_names-source">
<pre>
<span class="ruby-comment"># File lib/csl/nodes.rb, line 937</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_names</span>(<span class="ruby-identifier">role</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">processor</span>)
  <span class="ruby-identifier">localized_terms</span>(<span class="ruby-identifier">role</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-string">'plural'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">plural?</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">number</span>).<span class="ruby-identifier">to_s</span> }))        
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">handle_processing_error</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">processor</span>)        
<span class="ruby-keyword">end</span></pre>
            </div><!-- process_names-source -->
            
          </div>

          

          
        </div><!-- process_names-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

